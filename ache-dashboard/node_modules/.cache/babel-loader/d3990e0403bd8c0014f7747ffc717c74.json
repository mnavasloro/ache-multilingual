{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar PropTypes = require(\"prop-types\");\n\nvar core_1 = require(\"../../../../../core\");\n\nvar ui_1 = require(\"../../../../ui\");\n\nvar defaults = require('lodash/defaults');\n\nvar map = require('lodash/map');\n\nvar NumericRefinementListFilter =\n/** @class */\nfunction (_super) {\n  __extends(NumericRefinementListFilter, _super);\n\n  function NumericRefinementListFilter(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.toggleItem = _this.toggleItem.bind(_this);\n    _this.setItems = _this.setItems.bind(_this);\n    return _this;\n  }\n\n  NumericRefinementListFilter.prototype.defineAccessor = function () {\n    var _a = this.props,\n        id = _a.id,\n        field = _a.field,\n        options = _a.options,\n        title = _a.title,\n        multiselect = _a.multiselect,\n        fieldOptions = _a.fieldOptions;\n    return new core_1.NumericOptionsAccessor(id, {\n      id: id,\n      field: field,\n      options: options,\n      title: title,\n      multiselect: multiselect,\n      fieldOptions: fieldOptions\n    });\n  };\n\n  NumericRefinementListFilter.prototype.toggleItem = function (key) {\n    this.accessor.toggleOption(key);\n  };\n\n  NumericRefinementListFilter.prototype.setItems = function (keys) {\n    this.accessor.setOptions(keys);\n  };\n\n  NumericRefinementListFilter.prototype.getSelectedItems = function () {\n    var selectedOptions = this.accessor.getSelectedOrDefaultOptions() || [];\n    return map(selectedOptions, 'title');\n  };\n\n  NumericRefinementListFilter.prototype.hasOptions = function () {\n    return this.accessor.getBuckets().length != 0;\n  };\n\n  NumericRefinementListFilter.prototype.render = function () {\n    if (!this.accessor) return null;\n    var _a = this.props,\n        listComponent = _a.listComponent,\n        containerComponent = _a.containerComponent,\n        itemComponent = _a.itemComponent,\n        showCount = _a.showCount,\n        title = _a.title,\n        id = _a.id,\n        mod = _a.mod,\n        className = _a.className,\n        countFormatter = _a.countFormatter;\n    return core_1.renderComponent(containerComponent, {\n      title: title,\n      className: id ? \"filter--\" + id : undefined,\n      disabled: !this.hasOptions()\n    }, core_1.renderComponent(listComponent, {\n      mod: mod,\n      className: className,\n      items: this.accessor.getBuckets(),\n      itemComponent: itemComponent,\n      selectedItems: this.getSelectedItems(),\n      toggleItem: this.toggleItem,\n      setItems: this.setItems,\n      docCount: this.accessor.getDocCount(),\n      showCount: showCount,\n      translate: this.translate,\n      countFormatter: countFormatter\n    }));\n  };\n\n  NumericRefinementListFilter.propTypes = defaults({\n    containerComponent: core_1.RenderComponentPropType,\n    listComponent: core_1.RenderComponentPropType,\n    itemComponent: core_1.RenderComponentPropType,\n    field: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    multiselect: PropTypes.bool,\n    showCount: PropTypes.bool,\n    options: PropTypes.arrayOf(PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      from: PropTypes.number,\n      to: PropTypes.number,\n      key: PropTypes.string\n    })),\n    fieldOptions: PropTypes.shape({\n      type: PropTypes.oneOf(['embedded', 'nested', 'children']).isRequired,\n      options: PropTypes.object\n    }),\n    countFormatter: PropTypes.func\n  }, core_1.SearchkitComponent.propTypes);\n  NumericRefinementListFilter.defaultProps = {\n    listComponent: ui_1.ItemList,\n    containerComponent: ui_1.Panel,\n    multiselect: false,\n    showCount: true\n  };\n  return NumericRefinementListFilter;\n}(core_1.SearchkitComponent);\n\nexports.NumericRefinementListFilter = NumericRefinementListFilter;","map":{"version":3,"mappings":"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","names":["defaults","require","map","__extends","props","_super","_this","toggleItem","bind","setItems","NumericRefinementListFilter","id","field","options","title","multiselect","fieldOptions","core_1","key","accessor","toggleOption","keys","setOptions","selectedOptions","getSelectedOrDefaultOptions","getBuckets","length","listComponent","containerComponent","itemComponent","showCount","mod","className","countFormatter","undefined","disabled","hasOptions","items","selectedItems","getSelectedItems","docCount","getDocCount","translate","PropTypes","string","isRequired","bool","arrayOf","shape","from","number","to","type","oneOf","object","func","propTypes","ui_1","exports"],"sources":["C:\\Users\\mnavas\\CODE\\SmartBIC\\ache-multilingual\\ache-dashboard\\node_modules\\searchkit\\src\\components\\search\\filters\\numeric-refinement-list-filter\\src\\NumericRefinementListFilter.tsx"],"sourcesContent":["import * as PropTypes from 'prop-types'\n\nimport {\n  SearchkitComponent,\n  NumericOptionsAccessor,\n  SearchkitComponentProps,\n  RangeOption,\n  RenderComponentType,\n  RenderComponentPropType,\n  renderComponent,\n  FieldOptions\n} from '../../../../../core'\n\nimport { ListProps, ItemProps, ItemList, Panel } from '../../../../ui'\n\nconst defaults = require('lodash/defaults')\nconst map = require('lodash/map')\n\nexport interface NumericRefinementListFilterProps extends SearchkitComponentProps {\n  field: string\n  title: string\n  options: Array<RangeOption>\n  id: string\n  multiselect?: boolean\n  showCount?: boolean\n  listComponent?: RenderComponentType<ListProps>\n  itemComponent?: RenderComponentType<ItemProps>\n  containerComponent?: RenderComponentType<any>\n  fieldOptions?: FieldOptions\n  countFormatter?: (count: number) => number | string\n}\n\nexport class NumericRefinementListFilter extends SearchkitComponent<\n  NumericRefinementListFilterProps,\n  any\n> {\n  accessor: NumericOptionsAccessor\n\n  static propTypes = defaults(\n    {\n      containerComponent: RenderComponentPropType,\n      listComponent: RenderComponentPropType,\n      itemComponent: RenderComponentPropType,\n      field: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired,\n      multiselect: PropTypes.bool,\n      showCount: PropTypes.bool,\n      options: PropTypes.arrayOf(\n        PropTypes.shape({\n          title: PropTypes.string.isRequired,\n          from: PropTypes.number,\n          to: PropTypes.number,\n          key: PropTypes.string\n        })\n      ),\n      fieldOptions: PropTypes.shape({\n        type: PropTypes.oneOf(['embedded', 'nested', 'children']).isRequired,\n        options: PropTypes.object\n      }),\n      countFormatter: PropTypes.func\n    },\n    SearchkitComponent.propTypes\n  )\n\n  static defaultProps = {\n    listComponent: ItemList,\n    containerComponent: Panel,\n    multiselect: false,\n    showCount: true\n  }\n\n  constructor(props) {\n    super(props)\n    this.toggleItem = this.toggleItem.bind(this)\n    this.setItems = this.setItems.bind(this)\n  }\n\n  defineAccessor() {\n    const { id, field, options, title, multiselect, fieldOptions } = this.props\n    return new NumericOptionsAccessor(id, {\n      id,\n      field,\n      options,\n      title,\n      multiselect,\n      fieldOptions\n    })\n  }\n\n  toggleItem(key) {\n    this.accessor.toggleOption(key)\n  }\n\n  setItems(keys) {\n    this.accessor.setOptions(keys)\n  }\n\n  getSelectedItems() {\n    const selectedOptions = this.accessor.getSelectedOrDefaultOptions() || []\n    return map(selectedOptions, 'title')\n  }\n\n  hasOptions(): boolean {\n    return this.accessor.getBuckets().length != 0\n  }\n\n  render(): React.ReactElement<any> {\n    if (!this.accessor) return null\n    const {\n      listComponent,\n      containerComponent,\n      itemComponent,\n      showCount,\n      title,\n      id,\n      mod,\n      className,\n      countFormatter\n    } = this.props\n\n    return renderComponent(\n      containerComponent,\n      {\n        title,\n        className: id ? `filter--${id}` : undefined,\n        disabled: !this.hasOptions()\n      },\n      renderComponent(listComponent, {\n        mod,\n        className,\n        items: this.accessor.getBuckets(),\n        itemComponent,\n        selectedItems: this.getSelectedItems(),\n        toggleItem: this.toggleItem,\n        setItems: this.setItems,\n        docCount: this.accessor.getDocCount(),\n        showCount,\n        translate: this.translate,\n        countFormatter\n      })\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"script"}