{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar PropTypes = require(\"prop-types\");\n\nvar SearchkitManager_1 = require(\"../SearchkitManager\");\n\nvar support_1 = require(\"../support\");\n\nvar block_1 = require(\"./block\");\n\nvar mapValues = require('lodash/mapValues');\n\nvar SearchkitComponent =\n/** @class */\nfunction (_super) {\n  __extends(SearchkitComponent, _super);\n\n  function SearchkitComponent(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.translations = {};\n    _this.unmounted = false;\n    _this.translate = _this.translate.bind(_this);\n    return _this;\n  }\n\n  SearchkitComponent.prototype.defineBEMBlocks = function () {\n    return null;\n  };\n\n  SearchkitComponent.prototype.defineAccessor = function () {\n    return null;\n  };\n\n  SearchkitComponent.prototype.translate = function (key, interpolations) {\n    var translation = this.searchkit.translate(key) || this.props.translations && this.props.translations[key] || this.translations[key] || key;\n    return support_1.Utils.translate(translation, interpolations);\n  };\n\n  Object.defineProperty(SearchkitComponent.prototype, \"bemBlocks\", {\n    get: function get() {\n      return mapValues(this.defineBEMBlocks(), function (cssClass) {\n        return block_1.block(cssClass).el;\n      });\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(SearchkitComponent.prototype, \"searchkit\", {\n    get: function get() {\n      return this._searchkit || (this._searchkit = this._getSearchkit());\n    },\n    set: function set(value) {\n      this._searchkit = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  SearchkitComponent.prototype._getSearchkit = function () {\n    return this.props.searchkit || this.context.searchkit;\n  };\n\n  SearchkitComponent.prototype.componentDidMount = function () {\n    var _this = this;\n\n    this._initAccessor();\n\n    if (this.searchkit) {\n      this.stateListenerUnsubscribe = this.searchkit.emitter.addListener(function () {\n        if (!_this.unmounted) {\n          _this.forceUpdate();\n        }\n      });\n    }\n\n    this.forceUpdate();\n  };\n\n  SearchkitComponent.prototype._initAccessor = function () {\n    if (this.searchkit && !this.accessor) {\n      this.accessor = this.defineAccessor();\n\n      if (this.accessor) {\n        this.accessor = this.searchkit.addAccessor(this.accessor);\n        return true;\n      }\n    }\n\n    if (!this.searchkit) {\n      console.warn('No searchkit found in props or context for ' + this.constructor.name);\n    }\n\n    return false;\n  };\n\n  SearchkitComponent.prototype.componentWillUnmount = function () {\n    if (this.stateListenerUnsubscribe) {\n      this.stateListenerUnsubscribe();\n    }\n\n    if (this.searchkit && this.accessor) {\n      this.searchkit.removeAccessor(this.accessor);\n    }\n\n    this.unmounted = true;\n  };\n\n  SearchkitComponent.prototype.getResults = function () {\n    return this.searchkit.results;\n  };\n\n  SearchkitComponent.prototype.getHits = function () {\n    return this.searchkit.getHits();\n  };\n\n  SearchkitComponent.prototype.getHitsCount = function () {\n    return this.searchkit.getHitsCount();\n  };\n\n  SearchkitComponent.prototype.hasHits = function () {\n    return this.searchkit.hasHits();\n  };\n\n  SearchkitComponent.prototype.hasHitsChanged = function () {\n    return this.searchkit.hasHitsChanged();\n  };\n\n  SearchkitComponent.prototype.getQuery = function () {\n    return this.searchkit.query;\n  };\n\n  SearchkitComponent.prototype.isInitialLoading = function () {\n    return this.searchkit.initialLoading;\n  };\n\n  SearchkitComponent.prototype.isLoading = function () {\n    return this.searchkit.loading;\n  };\n\n  SearchkitComponent.prototype.getError = function () {\n    return this.searchkit.error;\n  };\n\n  SearchkitComponent.contextTypes = {\n    searchkit: PropTypes.instanceOf(SearchkitManager_1.SearchkitManager)\n  };\n\n  SearchkitComponent.translationsPropType = function (translations) {\n    return PropTypes.shape(mapValues(translations, function () {\n      return PropTypes.string;\n    }));\n  };\n\n  SearchkitComponent.propTypes = {\n    mod: PropTypes.string,\n    className: PropTypes.string,\n    translations: PropTypes.objectOf(PropTypes.string),\n    searchkit: PropTypes.instanceOf(SearchkitManager_1.SearchkitManager)\n  };\n  return SearchkitComponent;\n}(React.Component);\n\nexports.SearchkitComponent = SearchkitComponent;","map":{"version":3,"mappings":"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","names":["mapValues","require","__extends","props","_super","_this","translate","bind","SearchkitComponent","key","interpolations","translation","searchkit","translations","support_1","Object","defineBEMBlocks","cssClass","el","_searchkit","_getSearchkit","value","context","_initAccessor","stateListenerUnsubscribe","emitter","addListener","unmounted","forceUpdate","accessor","defineAccessor","addAccessor","console","warn","constructor","name","removeAccessor","results","getHits","getHitsCount","hasHits","hasHitsChanged","query","initialLoading","loading","error","PropTypes","instanceOf","SearchkitManager_1","shape","string","mod","className","objectOf","React","Component","exports"],"sources":["C:\\Users\\mnavas\\CODE\\SmartBIC\\ache-multilingual\\ache-dashboard\\node_modules\\searchkit\\src\\core\\react\\SearchkitComponent.ts"],"sourcesContent":["import * as React from 'react'\nimport * as PropTypes from 'prop-types'\nimport { SearchkitManager } from '../SearchkitManager'\nimport { ImmutableQuery } from '../query'\nimport { Accessor } from '../accessors/Accessor'\nimport { Utils } from '../support'\nimport { block } from './block'\nconst mapValues = require('lodash/mapValues')\n\nexport interface SearchkitComponentProps {\n  mod?: string\n  className?: string\n  translations?: Record<string, any>\n  searchkit?: SearchkitManager\n  key?: string\n}\n\nexport class SearchkitComponent<P extends SearchkitComponentProps, S> extends React.Component<\n  P,\n  S\n> {\n  _searchkit: SearchkitManager\n  accessor: Accessor\n  stateListenerUnsubscribe: Function\n  translations: Record<string, any> = {}\n  unmounted = false\n\n  static contextTypes: React.ValidationMap<any> = {\n    searchkit: PropTypes.instanceOf(SearchkitManager)\n  }\n\n  static translationsPropType = (translations) =>\n    PropTypes.shape(mapValues(translations, () => PropTypes.string))\n\n  static propTypes: any = {\n    mod: PropTypes.string,\n    className: PropTypes.string,\n    translations: PropTypes.objectOf(PropTypes.string),\n    searchkit: PropTypes.instanceOf(SearchkitManager)\n  }\n\n  constructor(props?) {\n    super(props)\n    this.translate = this.translate.bind(this)\n  }\n\n  defineBEMBlocks() {\n    return null\n  }\n\n  defineAccessor(): Accessor {\n    return null\n  }\n\n  translate(key, interpolations?) {\n    const translation =\n      this.searchkit.translate(key) ||\n      (this.props.translations && this.props.translations[key]) ||\n      this.translations[key] ||\n      key\n    return Utils.translate(translation, interpolations)\n  }\n\n  get bemBlocks(): any {\n    return mapValues(this.defineBEMBlocks(), (cssClass) => block(cssClass).el)\n  }\n\n  get searchkit(): SearchkitManager {\n    return this._searchkit || (this._searchkit = this._getSearchkit())\n  }\n\n  set searchkit(value: SearchkitManager) {\n    this._searchkit = value\n  }\n\n  _getSearchkit(): SearchkitManager {\n    return this.props.searchkit || this.context.searchkit\n  }\n\n  componentDidMount() {\n    this._initAccessor()\n    if (this.searchkit) {\n      this.stateListenerUnsubscribe = this.searchkit.emitter.addListener(() => {\n        if (!this.unmounted) {\n          this.forceUpdate()\n        }\n      })\n    }\n    this.forceUpdate()\n  }\n\n  _initAccessor() {\n    if (this.searchkit && !this.accessor) {\n      this.accessor = this.defineAccessor()\n      if (this.accessor) {\n        this.accessor = this.searchkit.addAccessor(this.accessor)\n        return true\n      }\n    }\n    if (!this.searchkit) {\n      console.warn('No searchkit found in props or context for ' + this.constructor.name)\n    }\n    return false\n  }\n\n  componentWillUnmount() {\n    if (this.stateListenerUnsubscribe) {\n      this.stateListenerUnsubscribe()\n    }\n    if (this.searchkit && this.accessor) {\n      this.searchkit.removeAccessor(this.accessor)\n    }\n    this.unmounted = true\n  }\n\n  getResults() {\n    return this.searchkit.results\n  }\n\n  getHits() {\n    return this.searchkit.getHits()\n  }\n\n  getHitsCount() {\n    return this.searchkit.getHitsCount()\n  }\n\n  hasHits() {\n    return this.searchkit.hasHits()\n  }\n\n  hasHitsChanged() {\n    return this.searchkit.hasHitsChanged()\n  }\n\n  getQuery(): ImmutableQuery {\n    return this.searchkit.query\n  }\n\n  isInitialLoading() {\n    return this.searchkit.initialLoading\n  }\n\n  isLoading() {\n    return this.searchkit.loading\n  }\n\n  getError() {\n    return this.searchkit.error\n  }\n}\n"]},"metadata":{},"sourceType":"script"}