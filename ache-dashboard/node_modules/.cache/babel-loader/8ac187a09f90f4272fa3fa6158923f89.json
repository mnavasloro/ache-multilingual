{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{AlertMessages}from'./AlertMessage';import{api}from'./RestApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StartCrawler=/*#__PURE__*/function(_React$Component){_inherits(StartCrawler,_React$Component);var _super=_createSuper(StartCrawler);function StartCrawler(props){var _this;_classCallCheck(this,StartCrawler);_this=_super.call(this,props);_this.DEFAULT_STATE={crawlerId:'',crawlType:null,seeds:null,seedsContent:null,modelFile:null,invalidModel:null,starting:false};_this.messages=_this.props.messages;_this.state=Object.assign({},_this.DEFAULT_STATE);return _this;}_createClass(StartCrawler,[{key:\"cancelCrawl\",value:function cancelCrawl(){this.setState(this.DEFAULT_STATE);this.parseUrlQueryParameters();}},{key:\"componentWillMount\",value:function componentWillMount(){this.parseUrlQueryParameters();}},{key:\"parseUrlQueryParameters\",value:function parseUrlQueryParameters(){if(this.props.location.search){var queryParams=this.props.location.search.substr(1).split('&');var _iterator=_createForOfIteratorHelper(queryParams),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var param=_step.value;var kv=param.split('=');if(kv&&kv.length===2){if('crawlerId'===kv[0]){this.setState({crawlerId:kv[1],crawlerIdDisabled:true});}else if('crawlType'===kv[0]){this.setState({crawlType:kv[1],crawlTypeDisabled:true});}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}}},{key:\"startCrawl\",value:function startCrawl(crawlerId){this.setState({starting:true});var config={method:'POST',mode:'cors',body:JSON.stringify({crawlType:this.state.crawlType,seeds:this.state.seeds,model:this.state.modelFile})};api.post('/crawls/'+crawlerId+'/startCrawl',config).then(this.updateResponse.bind(this));}},{key:\"updateResponse\",value:function updateResponse(response){if('FETCH_ERROR'===response){if(!this.state.serverError){this.messages.error('Failed to connect to ACHE server.');this.setState({serverError:true});}}else{this.setState({serverError:false});if(response.crawlerStarted===false){this.messages.error('Failed to start the crawler.');this.setState({starting:false});}else if(response.crawlerStarted===true){this.messages.success('Crawler started successfully.');this.props.history.push('/');}}}},{key:\"handleSelectModelFile\",value:function handleSelectModelFile(e){var _this2=this;var reader=new FileReader();var file=e.target.files[0];if('application/zip'===file.type){reader.onload=function(upload){_this2.setState({modelFile:reader.result.split(',')[1],invalidModel:false});};reader.readAsDataURL(file);}else{this.setState({invalidModel:true});}}},{key:\"handleSelectSeedFile\",value:function handleSelectSeedFile(e){var _this3=this;var reader=new FileReader();var file=e.target.files[0];reader.onload=function(upload){//TODO validate reader.result not empty and filetype\nvar seedsContent=reader.result.replace(/\\r\\n/g,'\\n');var seeds=seedsContent.split('\\n');if(seeds!==null&&seeds.length>0){var validUrls=[];for(var i=0;i<seeds.length;i++){if(/^https?:\\/\\/.+/i.test(seeds[i])){validUrls.push(seeds[i]);}}_this3.setState({seeds:validUrls,seedsContent:validUrls.join('\\n')});}};reader.readAsText(file);}},{key:\"handleCrawlTypeChange\",value:function handleCrawlTypeChange(newCrawlType){this.setState({crawlType:newCrawlType});}},{key:\"handleCrawlerIdChange\",value:function handleCrawlerIdChange(event){this.setState({crawlerId:event.target.value});}},{key:\"isSelected\",value:function isSelected(crawlType){return this.state.crawlType===crawlType?'active':'';}},{key:\"hasValidCrawlerId\",value:function hasValidCrawlerId(crawlerId){var validChars=/^[0-9A-Za-z_-]+$/;return this.state.crawlerId&&validChars.test(this.state.crawlerId);}},{key:\"showErrorCrawlerId\",value:function showErrorCrawlerId(){return this.state.crawlerId&&!this.hasValidCrawlerId();}},{key:\"formIsValid\",value:function formIsValid(){if(!this.state.crawlType)return false;var hasCrawlerId=this.hasValidCrawlerId();if(this.state.crawlType==='DeepCrawl'){var hasValidSeeds=this.state.seeds&&this.state.seeds.length>0;return hasValidSeeds&&hasCrawlerId;}else if(this.state.crawlType==='FocusedCrawl'){return this.state.modelFile&&!this.state.invalidModel&&hasCrawlerId;}else{return false;}}},{key:\"render\",value:function render(){var _this4=this;// render launch Crawler pages\nvar isStarting=this.state.starting;var enableStart=this.formIsValid()&&!isStarting;var crawlDescription;if(this.state.crawlType==='DeepCrawl'){crawlDescription='Only relevant pages within the web sites listed in the seeds will be crawled.';}else if(this.state.crawlType==='FocusedCrawl'){crawlDescription='Relevant pages from any web site on the web will be crawled.';}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsx(AlertMessages,{messages:this.messages.display()}),/*#__PURE__*/_jsx(\"h2\",{children:\"Start Crawler\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"crawlerType\",children:\"Select a Crawler Type:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",\"data-toggle\":\"buttons\",id:\"crawlerType\",\"aria-label\":\"Choose a crawler type\",children:[/*#__PURE__*/_jsxs(\"label\",{className:'btn btn-primary '+this.isSelected('DeepCrawl'),onClick:function onClick(){return _this4.handleCrawlTypeChange('DeepCrawl');},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\"}),\" Deep Crawl\"]}),/*#__PURE__*/_jsxs(\"label\",{className:'btn btn-primary '+this.isSelected('FocusedCrawl'),onClick:function onClick(){return _this4.handleCrawlTypeChange('FocusedCrawl');},children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",checked:this.isSelected('FocusedCrawl')}),\" Focused Crawl\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"help-block\",children:/*#__PURE__*/_jsx(\"small\",{children:crawlDescription})})]}),/*#__PURE__*/_jsxs(\"div\",{className:'form-group'+(this.showErrorCrawlerId()?' has-error':''),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"crawlerId\",children:\"Crawler ID:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"crawlerId\",placeholder:\"my-crawler-name-1\",onChange:function onChange(e){return _this4.handleCrawlerIdChange(e);},style:{'maxWidth':'400px'},value:this.state.crawlerId,disabled:this.state.crawlerIdDisabled})]}),this.state.crawlType==='DeepCrawl'&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"seedsInputFile\",children:\"Seeds file:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control-file\",id:\"seedsInputFile\",\"aria-describedby\":\"seedsFileHelp\",onChange:function onChange(e){return _this4.handleSelectSeedFile(e);}}),/*#__PURE__*/_jsx(\"small\",{id:\"seedsFileHelp\",className:\"form-text text-muted\",children:\"Please select a text file containing a list of URLs to start the crawl. The file should contain one URL per line, and each URL should start with \\\"http://\\\" or \\\"https://\\\".\"})]})}),this.state.crawlType==='FocusedCrawl'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"seedsInputFile\",children:\"Model package:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control-file\",id:\"modelInputFile\",\"aria-describedby\":\"modelFileHelp\",onChange:function onChange(e){return _this4.handleSelectModelFile(e);}}),/*#__PURE__*/_jsx(\"small\",{id:\"modelFileHelp\",className:\"form-text text-muted\",children:\"Please select the model file downloaded from DDT (<domain-name>_model.zip).\"}),this.state.invalidModel&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Invalid model file. Select a zip file.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn-toolbar\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-default btn-md\",onClick:function onClick(){return _this4.cancelCrawl();},children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-remove\"}),\"\\xA0Cancel\"]}),/*#__PURE__*/_jsxs(\"button\",{disabled:!enableStart,type:\"button\",className:\"btn btn-primary btn-md\",onClick:function onClick(e){return _this4.startCrawl(_this4.state.crawlerId);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-play\"}),\"\\xA0Start Crawl\"]})]}),isStarting&&/*#__PURE__*/_jsxs(\"small\",{className:\"form-text text-muted\",children:[/*#__PURE__*/_jsx(\"br\",{}),\"Starting crawler... Hang tight.\"]})]}),this.state.seeds&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Loaded \",this.state.seeds.length,\" URLs from file.\"]}),this.state.seedsContent&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"pre\",{children:this.state.seedsContent})})]})]})});}}]);return StartCrawler;}(React.Component);export default StartCrawler;","map":{"version":3,"names":["React","AlertMessages","api","StartCrawler","props","DEFAULT_STATE","crawlerId","crawlType","seeds","seedsContent","modelFile","invalidModel","starting","messages","state","Object","assign","setState","parseUrlQueryParameters","location","search","queryParams","substr","split","param","kv","length","crawlerIdDisabled","crawlTypeDisabled","config","method","mode","body","JSON","stringify","model","post","then","updateResponse","bind","response","serverError","error","crawlerStarted","success","history","push","e","reader","FileReader","file","target","files","type","onload","upload","result","readAsDataURL","replace","validUrls","i","test","join","readAsText","newCrawlType","event","value","validChars","hasValidCrawlerId","hasCrawlerId","hasValidSeeds","isStarting","enableStart","formIsValid","crawlDescription","display","isSelected","handleCrawlTypeChange","showErrorCrawlerId","handleCrawlerIdChange","handleSelectSeedFile","handleSelectModelFile","cancelCrawl","startCrawl","Component"],"sources":["C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/src/StartCrawler.js"],"sourcesContent":["import React from 'react';\r\n\r\nimport {AlertMessages} from './AlertMessage'\r\nimport {api} from './RestApi';\r\n\r\nclass StartCrawler extends React.Component {\r\n\r\n  DEFAULT_STATE = {\r\n    crawlerId: '',\r\n    crawlType: null,\r\n    seeds: null,\r\n    seedsContent: null,\r\n    modelFile: null,\r\n    invalidModel: null,\r\n    starting: false\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.messages = this.props.messages;\r\n    this.state = Object.assign({}, this.DEFAULT_STATE);\r\n  }\r\n\r\n  cancelCrawl() {\r\n    this.setState(this.DEFAULT_STATE);\r\n    this.parseUrlQueryParameters();\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.parseUrlQueryParameters();\r\n  }\r\n\r\n  parseUrlQueryParameters() {\r\n    if (this.props.location.search) {\r\n      const queryParams = this.props.location.search.substr(1).split('&');\r\n      for (let param of queryParams) {\r\n        let kv = param.split('=');\r\n        if(kv && kv.length === 2) {\r\n          if('crawlerId' === kv[0]) {\r\n            this.setState({crawlerId: kv[1], crawlerIdDisabled: true});\r\n          }\r\n          else if('crawlType' === kv[0]) {\r\n            this.setState({crawlType: kv[1], crawlTypeDisabled: true});\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  startCrawl(crawlerId) {\r\n    this.setState({starting: true});\r\n    var config = {\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      body: JSON.stringify({\r\n        crawlType: this.state.crawlType,\r\n        seeds: this.state.seeds,\r\n        model: this.state.modelFile\r\n      })\r\n    };\r\n    api.post('/crawls/' + crawlerId + '/startCrawl', config)\r\n       .then(this.updateResponse.bind(this));\r\n  }\r\n\r\n  updateResponse(response) {\r\n    if('FETCH_ERROR' === response) {\r\n      if(!this.state.serverError) {\r\n        this.messages.error('Failed to connect to ACHE server.');\r\n        this.setState({serverError: true});\r\n      }\r\n    } else {\r\n      this.setState({serverError: false});\r\n      if(response.crawlerStarted === false) {\r\n        this.messages.error('Failed to start the crawler.');\r\n        this.setState({starting: false});\r\n      } else if(response.crawlerStarted === true) {\r\n        this.messages.success('Crawler started successfully.');\r\n        this.props.history.push('/')\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSelectModelFile(e) {\r\n    const reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    if('application/zip' === file.type) {\r\n      reader.onload = (upload) => {\r\n        this.setState({\r\n          modelFile: reader.result.split(',')[1],\r\n          invalidModel: false\r\n        });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      this.setState({\r\n        invalidModel: true\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectSeedFile(e) {\r\n    const reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    reader.onload = (upload) => {\r\n      //TODO validate reader.result not empty and filetype\r\n      let seedsContent = reader.result.replace(/\\r\\n/g, '\\n');\r\n      var seeds = seedsContent.split('\\n');\r\n\r\n      if(seeds !== null && seeds.length > 0) {\r\n        let validUrls = []\r\n        for(var i = 0; i < seeds.length; i++) {\r\n          if(/^https?:\\/\\/.+/i.test(seeds[i])) {\r\n            validUrls.push(seeds[i]);\r\n          }\r\n        }\r\n        this.setState({\r\n          seeds: validUrls,\r\n          seedsContent: validUrls.join('\\n')\r\n        });\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  }\r\n\r\n  handleCrawlTypeChange(newCrawlType) {\r\n    this.setState({crawlType: newCrawlType});\r\n  }\r\n\r\n  handleCrawlerIdChange(event) {\r\n    this.setState({crawlerId: event.target.value});\r\n  }\r\n\r\n  isSelected(crawlType) {\r\n    return this.state.crawlType === crawlType ? 'active' : '';\r\n  }\r\n\r\n  hasValidCrawlerId(crawlerId) {\r\n    const validChars = /^[0-9A-Za-z_-]+$/;\r\n    return this.state.crawlerId && validChars.test(this.state.crawlerId);\r\n  }\r\n\r\n  showErrorCrawlerId() {\r\n    return this.state.crawlerId && !this.hasValidCrawlerId();\r\n  }\r\n\r\n  formIsValid() {\r\n    if (!this.state.crawlType)\r\n      return false;\r\n    const hasCrawlerId = this.hasValidCrawlerId();\r\n    if (this.state.crawlType === 'DeepCrawl') {\r\n      const hasValidSeeds = this.state.seeds && this.state.seeds.length > 0;\r\n      return hasValidSeeds && hasCrawlerId;\r\n    } else if (this.state.crawlType === 'FocusedCrawl') {\r\n      return this.state.modelFile && !this.state.invalidModel && hasCrawlerId;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // render launch Crawler pages\r\n    const isStarting = this.state.starting;\r\n    const enableStart = this.formIsValid() && !isStarting;\r\n\r\n    let crawlDescription;\r\n    if(this.state.crawlType === 'DeepCrawl') {\r\n      crawlDescription = 'Only relevant pages within the web sites listed in the seeds will be crawled.'\r\n    } else if(this.state.crawlType === 'FocusedCrawl') {\r\n      crawlDescription = 'Relevant pages from any web site on the web will be crawled.'\r\n    }\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n          <AlertMessages messages={this.messages.display()} />\r\n          <h2>Start Crawler</h2>\r\n          <form>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"crawlerType\">Select a Crawler Type:</label><br/>\r\n              <div className=\"btn-group\" data-toggle=\"buttons\" id=\"crawlerType\"\r\n                aria-label=\"Choose a crawler type\">\r\n                <label className={'btn btn-primary ' + this.isSelected('DeepCrawl')}\r\n                  onClick={()=>this.handleCrawlTypeChange('DeepCrawl')}>\r\n                  <input type=\"radio\" /> Deep Crawl\r\n                </label>\r\n                <label className={'btn btn-primary ' + this.isSelected('FocusedCrawl')}\r\n                  onClick={()=>this.handleCrawlTypeChange('FocusedCrawl')}>\r\n                  <input type=\"radio\" checked={this.isSelected('FocusedCrawl')}/> Focused Crawl\r\n                </label>\r\n              </div>\r\n               <p className=\"help-block\"><small>{crawlDescription}</small></p>\r\n            </div>\r\n\r\n            <div className={'form-group' + (this.showErrorCrawlerId() ? ' has-error': '')} >\r\n              <label htmlFor=\"crawlerId\">Crawler ID:</label>\r\n              <input type=\"text\" className=\"form-control\" id=\"crawlerId\"\r\n                placeholder=\"my-crawler-name-1\"\r\n                onChange={(e)=>this.handleCrawlerIdChange(e)}\r\n                style={{'maxWidth':'400px'}} value={this.state.crawlerId}\r\n                disabled={this.state.crawlerIdDisabled} />\r\n            </div>\r\n\r\n            {(this.state.crawlType === 'DeepCrawl') &&\r\n              <div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"seedsInputFile\">Seeds file:</label>\r\n                  <input type=\"file\" className=\"form-control-file\" id=\"seedsInputFile\"\r\n                    aria-describedby=\"seedsFileHelp\" onChange={(e)=>this.handleSelectSeedFile(e)} />\r\n                  <small id=\"seedsFileHelp\" className=\"form-text text-muted\">\r\n                    Please select a text file containing a list of URLs to start the crawl.\r\n                    The file should contain one URL per line, and each URL should start with \"http://\" or \"https://\".\r\n                  </small>\r\n                </div>\r\n              </div>\r\n            }\r\n            {(this.state.crawlType === 'FocusedCrawl') &&\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"seedsInputFile\">Model package:</label>\r\n                <input type=\"file\" className=\"form-control-file\" id=\"modelInputFile\"\r\n                  aria-describedby=\"modelFileHelp\" onChange={(e)=>this.handleSelectModelFile(e)} />\r\n                <small id=\"modelFileHelp\" className=\"form-text text-muted\">\r\n                  Please select the model file downloaded from DDT (&lt;domain-name&gt;_model.zip).\r\n                </small>\r\n                { this.state.invalidModel && <p className=\"text-danger\">Invalid model file. Select a zip file.</p>}\r\n              </div>\r\n            }\r\n\r\n            <div className=\"form-group\">\r\n              <div className=\"btn-toolbar\">\r\n                <button type=\"button\" className=\"btn btn-default btn-md\"\r\n                  onClick={()=>this.cancelCrawl()}>\r\n                  <span className=\"glyphicon glyphicon-remove\"></span>&nbsp;Cancel\r\n                </button>\r\n                <button disabled={!enableStart} type=\"button\"\r\n                  className=\"btn btn-primary btn-md\"\r\n                  onClick={(e)=>this.startCrawl(this.state.crawlerId)}>\r\n                  <span className=\"glyphicon glyphicon-play\"></span>&nbsp;Start Crawl\r\n                </button>\r\n              </div>\r\n              { isStarting && <small className=\"form-text text-muted\"><br/>Starting crawler... Hang tight.</small> }\r\n            </div>\r\n            { this.state.seeds && <p>Loaded {this.state.seeds.length} URLs from file.</p>}\r\n            { this.state.seedsContent && <div><pre>{this.state.seedsContent}</pre></div> }\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default StartCrawler;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}