{"ast":null,"code":"var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport equal from 'deep-equal';\nimport { extractScalePropsFromProps, getMissingScaleProps, getOptionalScaleProps, getXYPlotValues } from '../utils/scales-utils';\nimport { getStackedData, getSeriesChildren, getSeriesPropsFromChildren } from '../utils/series-utils';\nimport { getInnerDimensions, MarginPropType, DEFAULT_MARGINS } from '../utils/chart-utils';\nimport { AnimationPropType } from '../animation';\nimport { CONTINUOUS_COLOR_RANGE, EXTENDED_DISCRETE_COLOR_RANGE, SIZE_RANGE, OPACITY_TYPE } from '../theme';\nimport CanvasWrapper from './series/canvas-wrapper';\nvar ATTRIBUTES = ['x', 'y', 'radius', 'angle', 'color', 'fill', 'stroke', 'opacity', 'size'];\n/**\n * Remove parents from tree formatted data. deep-equal doesnt play nice with data\n * that has circular structures, so we make every node single directional by pruning the parents.\n * @param {Array} data - the data object to have circular deps resolved in\n * @returns {Array} the sanitized data\n */\n\nfunction cleanseData(data) {\n  return data.map(function (series) {\n    if (!Array.isArray(series)) {\n      return series;\n    }\n\n    return series.map(function (row) {\n      return _extends({}, row, {\n        parent: null\n      });\n    });\n  });\n}\n/**\n * Wrapper on the deep-equal method for checking equality of next props vs current props\n * @param {Object} scaleMixins - Scale object.\n * @param {Object} nextScaleMixins - Scale object.\n * @param {Boolean} hasTreeStructure - Whether or not to cleanse the data of possible cyclic structures\n * @returns {Boolean} whether or not the two mixins objects are equal\n */\n\n\nfunction checkIfMixinsAreEqual(nextScaleMixins, scaleMixins, hasTreeStructure) {\n  var newMixins = _extends({}, nextScaleMixins, {\n    _allData: hasTreeStructure ? cleanseData(nextScaleMixins._allData) : nextScaleMixins._allData\n  });\n\n  var oldMixins = _extends({}, scaleMixins, {\n    _allData: hasTreeStructure ? cleanseData(scaleMixins._allData) : scaleMixins._allData\n  }); // it's hard to say if this function is reasonable?\n\n\n  return equal(newMixins, oldMixins);\n}\n\nvar XYPlot = function (_React$Component) {\n  _inherits(XYPlot, _React$Component);\n\n  _createClass(XYPlot, null, [{\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        className: ''\n      };\n    }\n  }, {\n    key: 'propTypes',\n    get: function get() {\n      return {\n        animation: AnimationPropType,\n        className: PropTypes.string,\n        dontCheckIfEmpty: PropTypes.bool,\n        height: PropTypes.number.isRequired,\n        margin: MarginPropType,\n        onClick: PropTypes.func,\n        onDoubleClick: PropTypes.func,\n        onMouseDown: PropTypes.func,\n        onMouseUp: PropTypes.func,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n        onMouseMove: PropTypes.func,\n        onTouchStart: PropTypes.func,\n        onTouchMove: PropTypes.func,\n        onTouchEnd: PropTypes.func,\n        onTouchCancel: PropTypes.func,\n        onWheel: PropTypes.func,\n        stackBy: PropTypes.oneOf(ATTRIBUTES),\n        style: PropTypes.object,\n        width: PropTypes.number.isRequired\n      };\n    }\n  }]);\n\n  function XYPlot(props) {\n    _classCallCheck(this, XYPlot);\n\n    var _this = _possibleConstructorReturn(this, (XYPlot.__proto__ || Object.getPrototypeOf(XYPlot)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var stackBy = props.stackBy;\n    var children = getSeriesChildren(props.children);\n    var data = getStackedData(children, stackBy);\n    _this.state = {\n      scaleMixins: _this._getScaleMixins(data, props),\n      data: data\n    };\n    return _this;\n  }\n\n  _createClass(XYPlot, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var children = getSeriesChildren(nextProps.children);\n      var nextData = getStackedData(children, nextProps.stackBy);\n      var scaleMixins = this.state.scaleMixins;\n\n      var nextScaleMixins = this._getScaleMixins(nextData, nextProps);\n\n      if (!checkIfMixinsAreEqual(nextScaleMixins, scaleMixins, nextProps.hasTreeStructure)) {\n        this.setState({\n          scaleMixins: nextScaleMixins,\n          data: nextData\n        });\n      }\n    }\n    /**\n     * Trigger click related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Click event.\n     * @private\n     */\n\n    /**\n     * Trigger doule-click related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Double-click event.\n     * @private\n     */\n\n  }, {\n    key: '_getClonedChildComponents',\n\n    /**\n     * Prepare the child components (including series) for rendering.\n     * @returns {Array} Array of child components.\n     * @private\n     */\n    value: function _getClonedChildComponents() {\n      var _this2 = this;\n\n      var props = this.props;\n      var animation = this.props.animation;\n      var _state = this.state,\n          scaleMixins = _state.scaleMixins,\n          data = _state.data;\n      var dimensions = getInnerDimensions(this.props, DEFAULT_MARGINS);\n      var children = React.Children.toArray(this.props.children);\n      var seriesProps = getSeriesPropsFromChildren(children);\n      var XYPlotValues = getXYPlotValues(props, children);\n      return children.map(function (child, index) {\n        var dataProps = null;\n\n        if (seriesProps[index]) {\n          // Get the index of the series in the list of props and retrieve\n          // the data property from it.\n          var seriesIndex = seriesProps[index].seriesIndex;\n          dataProps = {\n            data: data[seriesIndex]\n          };\n        }\n\n        return React.cloneElement(child, _extends({}, dimensions, {\n          animation: animation\n        }, dataProps && child.type.prototype && child.type.prototype.render ? {\n          ref: function ref(_ref) {\n            return _this2['series' + seriesProps[index].seriesIndex] = _ref;\n          }\n        } : {}, seriesProps[index], scaleMixins, child.props, XYPlotValues[index], dataProps));\n      });\n    }\n    /**\n     * Get the list of scale-related settings that should be applied by default.\n     * @param {Object} props Object of props.\n     * @returns {Object} Defaults.\n     * @private\n     */\n\n  }, {\n    key: '_getDefaultScaleProps',\n    value: function _getDefaultScaleProps(props) {\n      var _getInnerDimensions = getInnerDimensions(props, DEFAULT_MARGINS),\n          innerWidth = _getInnerDimensions.innerWidth,\n          innerHeight = _getInnerDimensions.innerHeight;\n\n      var colorRanges = ['color', 'fill', 'stroke'].reduce(function (acc, attr) {\n        var range = props[attr + 'Type'] === 'category' ? EXTENDED_DISCRETE_COLOR_RANGE : CONTINUOUS_COLOR_RANGE;\n        return _extends({}, acc, _defineProperty({}, attr + 'Range', range));\n      }, {});\n      return _extends({\n        xRange: [0, innerWidth],\n        yRange: [innerHeight, 0]\n      }, colorRanges, {\n        opacityType: OPACITY_TYPE,\n        sizeRange: SIZE_RANGE\n      });\n    }\n    /**\n     * Get the map of scales from the props, apply defaults to them and then pass\n     * them further.\n     * @param {Object} data Array of all data.\n     * @param {Object} props Props of the component.\n     * @returns {Object} Map of scale-related props.\n     * @private\n     */\n\n  }, {\n    key: '_getScaleMixins',\n    value: function _getScaleMixins(data, props) {\n      var _ref2;\n\n      var filteredData = data.filter(function (d) {\n        return d;\n      });\n\n      var allData = (_ref2 = []).concat.apply(_ref2, _toConsumableArray(filteredData));\n\n      var defaultScaleProps = this._getDefaultScaleProps(props);\n\n      var optionalScaleProps = getOptionalScaleProps(props);\n      var userScaleProps = extractScalePropsFromProps(props, ATTRIBUTES);\n      var missingScaleProps = getMissingScaleProps(_extends({}, defaultScaleProps, optionalScaleProps, userScaleProps), allData, ATTRIBUTES);\n      var children = getSeriesChildren(props.children);\n      var zeroBaseProps = {};\n      var adjustBy = new Set();\n      var adjustWhat = new Set();\n      children.forEach(function (child, index) {\n        if (!child || !data[index]) {\n          return;\n        }\n\n        ATTRIBUTES.forEach(function (attr) {\n          var _child$type$getParent = child.type.getParentConfig(attr, child.props),\n              isDomainAdjustmentNeeded = _child$type$getParent.isDomainAdjustmentNeeded,\n              zeroBaseValue = _child$type$getParent.zeroBaseValue;\n\n          if (isDomainAdjustmentNeeded) {\n            adjustBy.add(attr);\n            adjustWhat.add(index);\n          }\n\n          if (zeroBaseValue) {\n            var specifiedDomain = props[attr + 'Domain'];\n            zeroBaseProps[attr + 'BaseValue'] = specifiedDomain ? specifiedDomain[0] : 0;\n          }\n        });\n      });\n      return _extends({}, defaultScaleProps, zeroBaseProps, userScaleProps, missingScaleProps, {\n        _allData: data,\n        _adjustBy: Array.from(adjustBy),\n        _adjustWhat: Array.from(adjustWhat),\n        _stackBy: props.stackBy\n      });\n    }\n    /**\n     * Checks if the plot is empty or not.\n     * Currently checks the data only.\n     * @returns {boolean} True for empty.\n     * @private\n     */\n\n  }, {\n    key: '_isPlotEmpty',\n    value: function _isPlotEmpty() {\n      var data = this.state.data;\n      return !data || !data.length || !data.some(function (series) {\n        return series && series.some(function (d) {\n          return d;\n        });\n      });\n    }\n    /**\n     * Trigger mouse-down related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Mouse down event.\n     * @private\n     */\n\n    /**\n     * Trigger onMouseEnter handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Mouse enter event.\n     * @private\n     */\n\n    /**\n     * Trigger onMouseLeave handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Mouse leave event.\n     * @private\n     */\n\n    /**\n     * Trigger movement-related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Mouse move event.\n     * @private\n     */\n\n    /**\n     * Trigger mouse-up related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Mouse up event.\n     * @private\n     */\n\n    /**\n     * Trigger onTouchCancel handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Touch Cancel event.\n     * @private\n     */\n\n    /**\n     * Trigger onTouchEnd handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Touch End event.\n     * @private\n     */\n\n    /**\n     * Trigger touch movement-related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Touch move event.\n     * @private\n     */\n\n    /**\n     * Trigger touch-start related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Touch start event.\n     * @private\n     */\n\n    /**\n     * Trigger doule-click related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Double-click event.\n     * @private\n     */\n\n  }, {\n    key: 'renderCanvasComponents',\n    value: function renderCanvasComponents(components, props) {\n      var componentsToRender = components.filter(function (c) {\n        return c && !c.type.requiresSVG && c.type.isCanvas;\n      });\n\n      if (componentsToRender.length === 0) {\n        return null;\n      }\n\n      var _componentsToRender$ = componentsToRender[0].props,\n          marginLeft = _componentsToRender$.marginLeft,\n          marginTop = _componentsToRender$.marginTop,\n          marginBottom = _componentsToRender$.marginBottom,\n          marginRight = _componentsToRender$.marginRight,\n          innerHeight = _componentsToRender$.innerHeight,\n          innerWidth = _componentsToRender$.innerWidth;\n      return React.createElement(CanvasWrapper, {\n        innerHeight: innerHeight,\n        innerWidth: innerWidth,\n        marginLeft: marginLeft,\n        marginTop: marginTop,\n        marginBottom: marginBottom,\n        marginRight: marginRight\n      }, componentsToRender);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          dontCheckIfEmpty = _props.dontCheckIfEmpty,\n          style = _props.style,\n          width = _props.width,\n          height = _props.height;\n\n      if (!dontCheckIfEmpty && this._isPlotEmpty()) {\n        return React.createElement('div', {\n          className: 'rv-xy-plot ' + className,\n          style: _extends({\n            width: width + 'px',\n            height: height + 'px'\n          }, this.props.style)\n        });\n      }\n\n      var components = this._getClonedChildComponents();\n\n      return React.createElement('div', {\n        style: {\n          width: width + 'px',\n          height: height + 'px'\n        },\n        className: 'rv-xy-plot ' + className\n      }, React.createElement('svg', {\n        className: 'rv-xy-plot__inner',\n        width: width,\n        height: height,\n        style: style,\n        onClick: this._clickHandler,\n        onDoubleClick: this._doubleClickHandler,\n        onMouseDown: this._mouseDownHandler,\n        onMouseUp: this._mouseUpHandler,\n        onMouseMove: this._mouseMoveHandler,\n        onMouseLeave: this._mouseLeaveHandler,\n        onMouseEnter: this._mouseEnterHandler,\n        onTouchStart: this._mouseDownHandler,\n        onTouchMove: this._touchMoveHandler,\n        onTouchEnd: this._touchEndHandler,\n        onTouchCancel: this._touchCancelHandler,\n        onWheel: this._wheelHandler\n      }, components.filter(function (c) {\n        return c && c.type.requiresSVG;\n      })), this.renderCanvasComponents(components, this.props), components.filter(function (c) {\n        return c && !c.type.requiresSVG && !c.type.isCanvas;\n      }));\n    }\n  }]);\n\n  return XYPlot;\n}(React.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this._clickHandler = function (event) {\n    var onClick = _this3.props.onClick;\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  this._doubleClickHandler = function (event) {\n    var onDoubleClick = _this3.props.onDoubleClick;\n\n    if (onDoubleClick) {\n      onDoubleClick(event);\n    }\n  };\n\n  this._mouseDownHandler = function (event) {\n    var _props2 = _this3.props,\n        onMouseDown = _props2.onMouseDown,\n        children = _props2.children;\n\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n\n      if (component && component.onParentMouseDown) {\n        component.onParentMouseDown(event);\n      }\n    });\n  };\n\n  this._mouseEnterHandler = function (event) {\n    var _props3 = _this3.props,\n        onMouseEnter = _props3.onMouseEnter,\n        children = _props3.children;\n\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n\n      if (component && component.onParentMouseEnter) {\n        component.onParentMouseEnter(event);\n      }\n    });\n  };\n\n  this._mouseLeaveHandler = function (event) {\n    var _props4 = _this3.props,\n        onMouseLeave = _props4.onMouseLeave,\n        children = _props4.children;\n\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n\n      if (component && component.onParentMouseLeave) {\n        component.onParentMouseLeave(event);\n      }\n    });\n  };\n\n  this._mouseMoveHandler = function (event) {\n    var _props5 = _this3.props,\n        onMouseMove = _props5.onMouseMove,\n        children = _props5.children;\n\n    if (onMouseMove) {\n      onMouseMove(event);\n    }\n\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n\n      if (component && component.onParentMouseMove) {\n        component.onParentMouseMove(event);\n      }\n    });\n  };\n\n  this._mouseUpHandler = function (event) {\n    var _props6 = _this3.props,\n        onMouseUp = _props6.onMouseUp,\n        children = _props6.children;\n\n    if (onMouseUp) {\n      onMouseUp(event);\n    }\n\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n\n      if (component && component.onParentMouseUp) {\n        component.onParentMouseUp(event);\n      }\n    });\n  };\n\n  this._touchCancelHandler = function (event) {\n    var onTouchCancel = _this3.props.onTouchCancel;\n\n    if (onTouchCancel) {\n      onTouchCancel(event);\n    }\n  };\n\n  this._touchEndHandler = function (event) {\n    var onTouchEnd = _this3.props.onTouchEnd;\n\n    if (onTouchEnd) {\n      onTouchEnd(event);\n    }\n  };\n\n  this._touchMoveHandler = function (event) {\n    var _props7 = _this3.props,\n        onTouchMove = _props7.onTouchMove,\n        children = _props7.children;\n\n    if (onTouchMove) {\n      onTouchMove(event);\n    }\n\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n\n      if (component && component.onParentTouchMove) {\n        component.onParentTouchMove(event);\n      }\n    });\n  };\n\n  this._touchStartHandler = function (event) {\n    var _props8 = _this3.props,\n        onTouchStart = _props8.onTouchStart,\n        children = _props8.children;\n\n    if (onTouchStart) {\n      onTouchStart(event);\n    }\n\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n\n      if (component && component.onParentTouchStart) {\n        component.onParentTouchStart(event);\n      }\n    });\n  };\n\n  this._wheelHandler = function (event) {\n    var onWheel = _this3.props.onWheel;\n\n    if (onWheel) {\n      onWheel(event);\n    }\n  };\n};\n\nXYPlot.displayName = 'XYPlot';\nexport default XYPlot;","map":{"version":3,"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_extends","assign","arguments","source","hasOwnProperty","call","_toConsumableArray","arr","Array","isArray","arr2","from","_defineProperty","obj","value","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","React","PropTypes","equal","extractScalePropsFromProps","getMissingScaleProps","getOptionalScaleProps","getXYPlotValues","getStackedData","getSeriesChildren","getSeriesPropsFromChildren","getInnerDimensions","MarginPropType","DEFAULT_MARGINS","AnimationPropType","CONTINUOUS_COLOR_RANGE","EXTENDED_DISCRETE_COLOR_RANGE","SIZE_RANGE","OPACITY_TYPE","CanvasWrapper","ATTRIBUTES","cleanseData","data","map","series","row","parent","checkIfMixinsAreEqual","nextScaleMixins","scaleMixins","hasTreeStructure","newMixins","_allData","oldMixins","XYPlot","_React$Component","get","className","animation","string","dontCheckIfEmpty","bool","height","number","isRequired","margin","onClick","func","onDoubleClick","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onWheel","stackBy","oneOf","style","object","width","_this","getPrototypeOf","_initialiseProps","children","state","_getScaleMixins","componentWillReceiveProps","nextProps","nextData","setState","_getClonedChildComponents","_this2","_state","dimensions","Children","toArray","seriesProps","XYPlotValues","child","index","dataProps","seriesIndex","cloneElement","type","render","ref","_ref","_getDefaultScaleProps","_getInnerDimensions","innerWidth","innerHeight","colorRanges","reduce","acc","attr","range","xRange","yRange","opacityType","sizeRange","_ref2","filteredData","filter","d","allData","concat","apply","defaultScaleProps","optionalScaleProps","userScaleProps","missingScaleProps","zeroBaseProps","adjustBy","Set","adjustWhat","forEach","_child$type$getParent","getParentConfig","isDomainAdjustmentNeeded","zeroBaseValue","add","specifiedDomain","_adjustBy","_adjustWhat","_stackBy","_isPlotEmpty","some","renderCanvasComponents","components","componentsToRender","c","requiresSVG","isCanvas","_componentsToRender$","marginLeft","marginTop","marginBottom","marginRight","createElement","_props","_clickHandler","_doubleClickHandler","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","_mouseLeaveHandler","_mouseEnterHandler","_touchMoveHandler","_touchEndHandler","_touchCancelHandler","_wheelHandler","Component","_this3","event","_props2","seriesChildren","component","onParentMouseDown","_props3","onParentMouseEnter","_props4","onParentMouseLeave","_props5","onParentMouseMove","_props6","onParentMouseUp","_props7","onParentTouchMove","_touchStartHandler","_props8","onParentTouchStart","displayName"],"sources":["C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/react-vis/es/plot/xy-plot.js"],"sourcesContent":["var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport equal from 'deep-equal';\n\nimport { extractScalePropsFromProps, getMissingScaleProps, getOptionalScaleProps, getXYPlotValues } from '../utils/scales-utils';\nimport { getStackedData, getSeriesChildren, getSeriesPropsFromChildren } from '../utils/series-utils';\nimport { getInnerDimensions, MarginPropType, DEFAULT_MARGINS } from '../utils/chart-utils';\nimport { AnimationPropType } from '../animation';\nimport { CONTINUOUS_COLOR_RANGE, EXTENDED_DISCRETE_COLOR_RANGE, SIZE_RANGE, OPACITY_TYPE } from '../theme';\n\nimport CanvasWrapper from './series/canvas-wrapper';\n\nvar ATTRIBUTES = ['x', 'y', 'radius', 'angle', 'color', 'fill', 'stroke', 'opacity', 'size'];\n\n/**\n * Remove parents from tree formatted data. deep-equal doesnt play nice with data\n * that has circular structures, so we make every node single directional by pruning the parents.\n * @param {Array} data - the data object to have circular deps resolved in\n * @returns {Array} the sanitized data\n */\nfunction cleanseData(data) {\n  return data.map(function (series) {\n    if (!Array.isArray(series)) {\n      return series;\n    }\n    return series.map(function (row) {\n      return _extends({}, row, { parent: null });\n    });\n  });\n}\n\n/**\n * Wrapper on the deep-equal method for checking equality of next props vs current props\n * @param {Object} scaleMixins - Scale object.\n * @param {Object} nextScaleMixins - Scale object.\n * @param {Boolean} hasTreeStructure - Whether or not to cleanse the data of possible cyclic structures\n * @returns {Boolean} whether or not the two mixins objects are equal\n */\nfunction checkIfMixinsAreEqual(nextScaleMixins, scaleMixins, hasTreeStructure) {\n  var newMixins = _extends({}, nextScaleMixins, {\n    _allData: hasTreeStructure ? cleanseData(nextScaleMixins._allData) : nextScaleMixins._allData\n  });\n  var oldMixins = _extends({}, scaleMixins, {\n    _allData: hasTreeStructure ? cleanseData(scaleMixins._allData) : scaleMixins._allData\n  });\n  // it's hard to say if this function is reasonable?\n  return equal(newMixins, oldMixins);\n}\n\nvar XYPlot = function (_React$Component) {\n  _inherits(XYPlot, _React$Component);\n\n  _createClass(XYPlot, null, [{\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        className: ''\n      };\n    }\n  }, {\n    key: 'propTypes',\n    get: function get() {\n      return {\n        animation: AnimationPropType,\n        className: PropTypes.string,\n        dontCheckIfEmpty: PropTypes.bool,\n        height: PropTypes.number.isRequired,\n        margin: MarginPropType,\n        onClick: PropTypes.func,\n        onDoubleClick: PropTypes.func,\n        onMouseDown: PropTypes.func,\n        onMouseUp: PropTypes.func,\n        onMouseEnter: PropTypes.func,\n        onMouseLeave: PropTypes.func,\n        onMouseMove: PropTypes.func,\n        onTouchStart: PropTypes.func,\n        onTouchMove: PropTypes.func,\n        onTouchEnd: PropTypes.func,\n        onTouchCancel: PropTypes.func,\n        onWheel: PropTypes.func,\n        stackBy: PropTypes.oneOf(ATTRIBUTES),\n        style: PropTypes.object,\n        width: PropTypes.number.isRequired\n      };\n    }\n  }]);\n\n  function XYPlot(props) {\n    _classCallCheck(this, XYPlot);\n\n    var _this = _possibleConstructorReturn(this, (XYPlot.__proto__ || Object.getPrototypeOf(XYPlot)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var stackBy = props.stackBy;\n\n    var children = getSeriesChildren(props.children);\n    var data = getStackedData(children, stackBy);\n    _this.state = {\n      scaleMixins: _this._getScaleMixins(data, props),\n      data: data\n    };\n    return _this;\n  }\n\n  _createClass(XYPlot, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var children = getSeriesChildren(nextProps.children);\n      var nextData = getStackedData(children, nextProps.stackBy);\n      var scaleMixins = this.state.scaleMixins;\n\n      var nextScaleMixins = this._getScaleMixins(nextData, nextProps);\n      if (!checkIfMixinsAreEqual(nextScaleMixins, scaleMixins, nextProps.hasTreeStructure)) {\n        this.setState({\n          scaleMixins: nextScaleMixins,\n          data: nextData\n        });\n      }\n    }\n\n    /**\n     * Trigger click related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Click event.\n     * @private\n     */\n\n\n    /**\n     * Trigger doule-click related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Double-click event.\n     * @private\n     */\n\n  }, {\n    key: '_getClonedChildComponents',\n\n\n    /**\n     * Prepare the child components (including series) for rendering.\n     * @returns {Array} Array of child components.\n     * @private\n     */\n    value: function _getClonedChildComponents() {\n      var _this2 = this;\n\n      var props = this.props;\n      var animation = this.props.animation;\n      var _state = this.state,\n          scaleMixins = _state.scaleMixins,\n          data = _state.data;\n\n      var dimensions = getInnerDimensions(this.props, DEFAULT_MARGINS);\n      var children = React.Children.toArray(this.props.children);\n      var seriesProps = getSeriesPropsFromChildren(children);\n      var XYPlotValues = getXYPlotValues(props, children);\n      return children.map(function (child, index) {\n        var dataProps = null;\n        if (seriesProps[index]) {\n          // Get the index of the series in the list of props and retrieve\n          // the data property from it.\n          var seriesIndex = seriesProps[index].seriesIndex;\n\n          dataProps = { data: data[seriesIndex] };\n        }\n        return React.cloneElement(child, _extends({}, dimensions, {\n          animation: animation\n        }, dataProps && child.type.prototype && child.type.prototype.render ? {\n          ref: function ref(_ref) {\n            return _this2['series' + seriesProps[index].seriesIndex] = _ref;\n          }\n        } : {}, seriesProps[index], scaleMixins, child.props, XYPlotValues[index], dataProps));\n      });\n    }\n    /**\n     * Get the list of scale-related settings that should be applied by default.\n     * @param {Object} props Object of props.\n     * @returns {Object} Defaults.\n     * @private\n     */\n\n  }, {\n    key: '_getDefaultScaleProps',\n    value: function _getDefaultScaleProps(props) {\n      var _getInnerDimensions = getInnerDimensions(props, DEFAULT_MARGINS),\n          innerWidth = _getInnerDimensions.innerWidth,\n          innerHeight = _getInnerDimensions.innerHeight;\n\n      var colorRanges = ['color', 'fill', 'stroke'].reduce(function (acc, attr) {\n        var range = props[attr + 'Type'] === 'category' ? EXTENDED_DISCRETE_COLOR_RANGE : CONTINUOUS_COLOR_RANGE;\n        return _extends({}, acc, _defineProperty({}, attr + 'Range', range));\n      }, {});\n\n      return _extends({\n        xRange: [0, innerWidth],\n        yRange: [innerHeight, 0]\n      }, colorRanges, {\n        opacityType: OPACITY_TYPE,\n        sizeRange: SIZE_RANGE\n      });\n    }\n\n    /**\n     * Get the map of scales from the props, apply defaults to them and then pass\n     * them further.\n     * @param {Object} data Array of all data.\n     * @param {Object} props Props of the component.\n     * @returns {Object} Map of scale-related props.\n     * @private\n     */\n\n  }, {\n    key: '_getScaleMixins',\n    value: function _getScaleMixins(data, props) {\n      var _ref2;\n\n      var filteredData = data.filter(function (d) {\n        return d;\n      });\n      var allData = (_ref2 = []).concat.apply(_ref2, _toConsumableArray(filteredData));\n\n      var defaultScaleProps = this._getDefaultScaleProps(props);\n      var optionalScaleProps = getOptionalScaleProps(props);\n      var userScaleProps = extractScalePropsFromProps(props, ATTRIBUTES);\n      var missingScaleProps = getMissingScaleProps(_extends({}, defaultScaleProps, optionalScaleProps, userScaleProps), allData, ATTRIBUTES);\n      var children = getSeriesChildren(props.children);\n      var zeroBaseProps = {};\n      var adjustBy = new Set();\n      var adjustWhat = new Set();\n      children.forEach(function (child, index) {\n        if (!child || !data[index]) {\n          return;\n        }\n        ATTRIBUTES.forEach(function (attr) {\n          var _child$type$getParent = child.type.getParentConfig(attr, child.props),\n              isDomainAdjustmentNeeded = _child$type$getParent.isDomainAdjustmentNeeded,\n              zeroBaseValue = _child$type$getParent.zeroBaseValue;\n\n          if (isDomainAdjustmentNeeded) {\n            adjustBy.add(attr);\n            adjustWhat.add(index);\n          }\n          if (zeroBaseValue) {\n            var specifiedDomain = props[attr + 'Domain'];\n            zeroBaseProps[attr + 'BaseValue'] = specifiedDomain ? specifiedDomain[0] : 0;\n          }\n        });\n      });\n      return _extends({}, defaultScaleProps, zeroBaseProps, userScaleProps, missingScaleProps, {\n        _allData: data,\n        _adjustBy: Array.from(adjustBy),\n        _adjustWhat: Array.from(adjustWhat),\n        _stackBy: props.stackBy\n      });\n    }\n\n    /**\n     * Checks if the plot is empty or not.\n     * Currently checks the data only.\n     * @returns {boolean} True for empty.\n     * @private\n     */\n\n  }, {\n    key: '_isPlotEmpty',\n    value: function _isPlotEmpty() {\n      var data = this.state.data;\n\n      return !data || !data.length || !data.some(function (series) {\n        return series && series.some(function (d) {\n          return d;\n        });\n      });\n    }\n\n    /**\n     * Trigger mouse-down related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Mouse down event.\n     * @private\n     */\n\n\n    /**\n     * Trigger onMouseEnter handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Mouse enter event.\n     * @private\n     */\n\n\n    /**\n     * Trigger onMouseLeave handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Mouse leave event.\n     * @private\n     */\n\n\n    /**\n     * Trigger movement-related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Mouse move event.\n     * @private\n     */\n\n\n    /**\n     * Trigger mouse-up related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Mouse up event.\n     * @private\n     */\n\n\n    /**\n     * Trigger onTouchCancel handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Touch Cancel event.\n     * @private\n     */\n\n\n    /**\n     * Trigger onTouchEnd handler if it was passed in props.\n     * @param {React.SyntheticEvent} event Touch End event.\n     * @private\n     */\n\n\n    /**\n     * Trigger touch movement-related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Touch move event.\n     * @private\n     */\n\n\n    /**\n     * Trigger touch-start related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Touch start event.\n     * @private\n     */\n\n\n    /**\n     * Trigger doule-click related callbacks if they are available.\n     * @param {React.SyntheticEvent} event Double-click event.\n     * @private\n     */\n\n  }, {\n    key: 'renderCanvasComponents',\n    value: function renderCanvasComponents(components, props) {\n      var componentsToRender = components.filter(function (c) {\n        return c && !c.type.requiresSVG && c.type.isCanvas;\n      });\n\n      if (componentsToRender.length === 0) {\n        return null;\n      }\n      var _componentsToRender$ = componentsToRender[0].props,\n          marginLeft = _componentsToRender$.marginLeft,\n          marginTop = _componentsToRender$.marginTop,\n          marginBottom = _componentsToRender$.marginBottom,\n          marginRight = _componentsToRender$.marginRight,\n          innerHeight = _componentsToRender$.innerHeight,\n          innerWidth = _componentsToRender$.innerWidth;\n\n      return React.createElement(\n        CanvasWrapper,\n        {\n          innerHeight: innerHeight,\n          innerWidth: innerWidth,\n          marginLeft: marginLeft,\n          marginTop: marginTop,\n          marginBottom: marginBottom,\n          marginRight: marginRight\n        },\n        componentsToRender\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          dontCheckIfEmpty = _props.dontCheckIfEmpty,\n          style = _props.style,\n          width = _props.width,\n          height = _props.height;\n\n\n      if (!dontCheckIfEmpty && this._isPlotEmpty()) {\n        return React.createElement('div', {\n          className: 'rv-xy-plot ' + className,\n          style: _extends({\n            width: width + 'px',\n            height: height + 'px'\n          }, this.props.style)\n        });\n      }\n      var components = this._getClonedChildComponents();\n      return React.createElement(\n        'div',\n        {\n          style: {\n            width: width + 'px',\n            height: height + 'px'\n          },\n          className: 'rv-xy-plot ' + className\n        },\n        React.createElement(\n          'svg',\n          {\n            className: 'rv-xy-plot__inner',\n            width: width,\n            height: height,\n            style: style,\n            onClick: this._clickHandler,\n            onDoubleClick: this._doubleClickHandler,\n            onMouseDown: this._mouseDownHandler,\n            onMouseUp: this._mouseUpHandler,\n            onMouseMove: this._mouseMoveHandler,\n            onMouseLeave: this._mouseLeaveHandler,\n            onMouseEnter: this._mouseEnterHandler,\n            onTouchStart: this._mouseDownHandler,\n            onTouchMove: this._touchMoveHandler,\n            onTouchEnd: this._touchEndHandler,\n            onTouchCancel: this._touchCancelHandler,\n            onWheel: this._wheelHandler\n          },\n          components.filter(function (c) {\n            return c && c.type.requiresSVG;\n          })\n        ),\n        this.renderCanvasComponents(components, this.props),\n        components.filter(function (c) {\n          return c && !c.type.requiresSVG && !c.type.isCanvas;\n        })\n      );\n    }\n  }]);\n\n  return XYPlot;\n}(React.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this._clickHandler = function (event) {\n    var onClick = _this3.props.onClick;\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  this._doubleClickHandler = function (event) {\n    var onDoubleClick = _this3.props.onDoubleClick;\n\n    if (onDoubleClick) {\n      onDoubleClick(event);\n    }\n  };\n\n  this._mouseDownHandler = function (event) {\n    var _props2 = _this3.props,\n        onMouseDown = _props2.onMouseDown,\n        children = _props2.children;\n\n    if (onMouseDown) {\n      onMouseDown(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseDown) {\n        component.onParentMouseDown(event);\n      }\n    });\n  };\n\n  this._mouseEnterHandler = function (event) {\n    var _props3 = _this3.props,\n        onMouseEnter = _props3.onMouseEnter,\n        children = _props3.children;\n\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseEnter) {\n        component.onParentMouseEnter(event);\n      }\n    });\n  };\n\n  this._mouseLeaveHandler = function (event) {\n    var _props4 = _this3.props,\n        onMouseLeave = _props4.onMouseLeave,\n        children = _props4.children;\n\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseLeave) {\n        component.onParentMouseLeave(event);\n      }\n    });\n  };\n\n  this._mouseMoveHandler = function (event) {\n    var _props5 = _this3.props,\n        onMouseMove = _props5.onMouseMove,\n        children = _props5.children;\n\n    if (onMouseMove) {\n      onMouseMove(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseMove) {\n        component.onParentMouseMove(event);\n      }\n    });\n  };\n\n  this._mouseUpHandler = function (event) {\n    var _props6 = _this3.props,\n        onMouseUp = _props6.onMouseUp,\n        children = _props6.children;\n\n    if (onMouseUp) {\n      onMouseUp(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentMouseUp) {\n        component.onParentMouseUp(event);\n      }\n    });\n  };\n\n  this._touchCancelHandler = function (event) {\n    var onTouchCancel = _this3.props.onTouchCancel;\n\n    if (onTouchCancel) {\n      onTouchCancel(event);\n    }\n  };\n\n  this._touchEndHandler = function (event) {\n    var onTouchEnd = _this3.props.onTouchEnd;\n\n    if (onTouchEnd) {\n      onTouchEnd(event);\n    }\n  };\n\n  this._touchMoveHandler = function (event) {\n    var _props7 = _this3.props,\n        onTouchMove = _props7.onTouchMove,\n        children = _props7.children;\n\n    if (onTouchMove) {\n      onTouchMove(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentTouchMove) {\n        component.onParentTouchMove(event);\n      }\n    });\n  };\n\n  this._touchStartHandler = function (event) {\n    var _props8 = _this3.props,\n        onTouchStart = _props8.onTouchStart,\n        children = _props8.children;\n\n    if (onTouchStart) {\n      onTouchStart(event);\n    }\n    var seriesChildren = getSeriesChildren(children);\n    seriesChildren.forEach(function (child, index) {\n      var component = _this3['series' + index];\n      if (component && component.onParentTouchStart) {\n        component.onParentTouchStart(event);\n      }\n    });\n  };\n\n  this._wheelHandler = function (event) {\n    var onWheel = _this3.props.onWheel;\n\n    if (onWheel) {\n      onWheel(event);\n    }\n  };\n};\n\nXYPlot.displayName = 'XYPlot';\n\nexport default XYPlot;"],"mappings":"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"},"metadata":{},"sourceType":"module"}