{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar PropTypes = require(\"prop-types\");\n\nvar core_1 = require(\"../../../core\");\n\nvar ui_1 = require(\"../../ui\");\n\nvar map = require('lodash/map');\n\nvar defaults = require('lodash/defaults');\n\nvar PageSizeSelector =\n/** @class */\nfunction (_super) {\n  __extends(PageSizeSelector, _super);\n\n  function PageSizeSelector() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PageSizeSelector.prototype.getPageSizeAccessor = function () {\n    return this.searchkit.getAccessorByType(core_1.PageSizeAccessor);\n  };\n\n  PageSizeSelector.prototype.setSize = function (size) {\n    var pageSizeAccessor = this.getPageSizeAccessor();\n\n    if (size) {\n      pageSizeAccessor.setSize(Number(size));\n      this.searchkit.performSearch();\n    }\n  };\n\n  PageSizeSelector.prototype.setItems = function (sizes) {\n    this.setSize(sizes[0]);\n  };\n\n  PageSizeSelector.prototype.render = function () {\n    var pageSizeAccessor = this.getPageSizeAccessor();\n\n    if (pageSizeAccessor) {\n      var options = map(this.props.options, function (option) {\n        return {\n          key: option,\n          label: option\n        };\n      });\n      var selectedSize = pageSizeAccessor.getSize();\n      var _a = this.props,\n          mod = _a.mod,\n          className = _a.className;\n      return core_1.renderComponent(this.props.listComponent, {\n        mod: mod,\n        className: className,\n        disabled: !this.hasHits(),\n        items: options,\n        selectedItems: [selectedSize],\n        toggleItem: this.setSize.bind(this),\n        setItems: this.setItems.bind(this),\n        urlBuilder: function urlBuilder() {},\n        translate: this.translate\n      });\n    }\n\n    return null;\n  };\n\n  PageSizeSelector.defaultProps = {\n    listComponent: ui_1.Select\n  };\n  PageSizeSelector.propTypes = defaults({\n    listComponent: core_1.RenderComponentPropType,\n    options: PropTypes.arrayOf(PropTypes.number).isRequired\n  }, core_1.SearchkitComponent.propTypes);\n  return PageSizeSelector;\n}(core_1.SearchkitComponent);\n\nexports.PageSizeSelector = PageSizeSelector;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AASA;;AACA,IAAMA,GAAG,GAAGC,OAAO,CAAC,YAAD,CAAnB;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,iBAAD,CAAxB;;AAOA;AAAA;AAAA;EAAsCE;;EAAtC;;EAiDC;;EApCCC;IACE,OAAO,KAAKC,SAAL,CAAeC,iBAAf,CAAiCC,uBAAjC,CAAP;EACD,CAFD;;EAIAH,+CAAQI,IAAR,EAAY;IACV,IAAMC,gBAAgB,GAAG,KAAKC,mBAAL,EAAzB;;IACA,IAAIF,IAAJ,EAAU;MACRC,gBAAgB,CAACE,OAAjB,CAAyBC,MAAM,CAACJ,IAAD,CAA/B;MACA,KAAKH,SAAL,CAAeQ,aAAf;IACD;EACF,CAND;;EAQAT,gDAASU,KAAT,EAAc;IACZ,KAAKH,OAAL,CAAaG,KAAK,CAAC,CAAD,CAAlB;EACD,CAFD;;EAIAV;IACE,IAAMK,gBAAgB,GAAG,KAAKC,mBAAL,EAAzB;;IACA,IAAID,gBAAJ,EAAsB;MACpB,IAAMM,OAAO,GAAGf,GAAG,CAAC,KAAKgB,KAAL,CAAWD,OAAZ,EAAqB,UAACE,MAAD,EAAO;QAAK,OAAC;UAAEC,GAAG,EAAED,MAAP;UAAeE,KAAK,EAAEF;QAAtB,CAAD;MAAgC,CAAjE,CAAnB;MACA,IAAMG,YAAY,GAAGX,gBAAgB,CAACY,OAAjB,EAArB;MACM;MAAA,IAAEC,YAAF;MAAA,IAAOC,wBAAP;MACN,OAAOhB,uBAAgB,KAAKS,KAAL,CAAWQ,aAA3B,EAA0C;QAC/CF,GAAG,KAD4C;QAE/CC,SAAS,WAFsC;QAG/CE,QAAQ,EAAE,CAAC,KAAKC,OAAL,EAHoC;QAI/CC,KAAK,EAAEZ,OAJwC;QAK/Ca,aAAa,EAAE,CAACR,YAAD,CALgC;QAM/CS,UAAU,EAAE,KAAKlB,OAAL,CAAamB,IAAb,CAAkB,IAAlB,CANmC;QAO/CC,QAAQ,EAAE,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAPqC;QAQ/CE,UAAU,EAAE,uBAAQ,CAR2B;QAS/CC,SAAS,EAAE,KAAKA;MAT+B,CAA1C,CAAP;IAWD;;IACD,OAAO,IAAP;EACD,CAnBD;;EA5BO7B,gCAAe;IACpBoB,aAAa,EAAEU;EADK,CAAf;EAIA9B,6BAAYF,QAAQ,CACzB;IACEsB,aAAa,EAAEjB,8BADjB;IAEEQ,OAAO,EAAEoB,SAAS,CAACC,OAAV,CAAkBD,SAAS,CAACE,MAA5B,EAAoCC;EAF/C,CADyB,EAKzB/B,0BAAmBgC,SALM,CAApB;EA4CT;AAAC,CAjDD,CAAsChC,yBAAtC;;AAAaiC","names":["map","require","defaults","__extends","PageSizeSelector","searchkit","getAccessorByType","core_1","size","pageSizeAccessor","getPageSizeAccessor","setSize","Number","performSearch","sizes","options","props","option","key","label","selectedSize","getSize","mod","className","listComponent","disabled","hasHits","items","selectedItems","toggleItem","bind","setItems","urlBuilder","translate","ui_1","PropTypes","arrayOf","number","isRequired","propTypes","exports"],"sources":["C:\\Users\\mnavas\\CODE\\SmartBIC\\ache-multilingual\\ache-dashboard\\node_modules\\searchkit\\src\\components\\search\\page-size-selector\\PageSizeSelector.tsx"],"sourcesContent":["import * as PropTypes from 'prop-types'\nimport {\n  SearchkitComponent,\n  SearchkitComponentProps,\n  PageSizeAccessor,\n  RenderComponentType,\n  RenderComponentPropType,\n  renderComponent\n} from '../../../core'\n\nimport { Select, ListProps } from '../../ui'\nconst map = require('lodash/map')\nconst defaults = require('lodash/defaults')\n\nexport interface PageSizeSelectorProps extends SearchkitComponentProps {\n  listComponent?: RenderComponentType<ListProps>\n  options: Array<number>\n}\n\nexport class PageSizeSelector extends SearchkitComponent<PageSizeSelectorProps, any> {\n  static defaultProps = {\n    listComponent: Select\n  }\n\n  static propTypes = defaults(\n    {\n      listComponent: RenderComponentPropType,\n      options: PropTypes.arrayOf(PropTypes.number).isRequired\n    },\n    SearchkitComponent.propTypes\n  )\n\n  getPageSizeAccessor() {\n    return this.searchkit.getAccessorByType(PageSizeAccessor)\n  }\n\n  setSize(size) {\n    const pageSizeAccessor = this.getPageSizeAccessor()\n    if (size) {\n      pageSizeAccessor.setSize(Number(size))\n      this.searchkit.performSearch()\n    }\n  }\n\n  setItems(sizes) {\n    this.setSize(sizes[0])\n  }\n\n  render(): React.ReactElement<any> {\n    const pageSizeAccessor = this.getPageSizeAccessor()\n    if (pageSizeAccessor) {\n      const options = map(this.props.options, (option) => ({ key: option, label: option }))\n      const selectedSize = pageSizeAccessor.getSize()\n      const { mod, className } = this.props\n      return renderComponent(this.props.listComponent, {\n        mod,\n        className,\n        disabled: !this.hasHits(),\n        items: options,\n        selectedItems: [selectedSize],\n        toggleItem: this.setSize.bind(this),\n        setItems: this.setItems.bind(this),\n        urlBuilder: () => {},\n        translate: this.translate\n      })\n    }\n    return null\n  }\n}\n"]},"metadata":{},"sourceType":"script"}