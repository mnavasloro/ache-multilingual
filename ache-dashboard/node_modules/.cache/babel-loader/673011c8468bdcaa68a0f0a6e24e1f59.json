{"ast":null,"code":"import _classCallCheck from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{ACHE_API_ADDRESS}from'./Config';var RestApi=/*#__PURE__*/function(){function RestApi(address,authorization){_classCallCheck(this,RestApi);if(address.endsWith('/')){this.address=address.substring(0,address.length-1);}else{this.address=address;}this.authorization=authorization;}_createClass(RestApi,[{key:\"get\",value:function get(endpoint,props){return this.fetch('GET',endpoint,props);}},{key:\"put\",value:function put(endpoint,props){return this.fetch('PUT',endpoint,props);}},{key:\"post\",value:function post(endpoint,props){return this.fetch('POST',endpoint,props);}},{key:\"fetch\",value:function(_fetch){function fetch(_x,_x2,_x3){return _fetch.apply(this,arguments);}fetch.toString=function(){return _fetch.toString();};return fetch;}(function(method,endpoint,props){return fetch(this.createUrl(endpoint),this.createProperties(method,props)).then(function(response){return response.json();},function(error){return'FETCH_ERROR';});})},{key:\"createUrl\",value:function createUrl(endpoint){if(endpoint.startsWith('/')){return this.address+endpoint;}else{return this.address+'/'+endpoint;}}},{key:\"createProperties\",value:function createProperties(method,properties){var props=properties||{};props.method=method||props.method||'GET';if(this.authorization!==undefined){props.headers=props.headers||{};props.headers['Authorization']=this.authorization;}return props;}}]);return RestApi;}();var meta=document.getElementsByName(\"authorization\")[0];var authHeader;if(meta!==undefined){authHeader=meta.content;}var api=new RestApi(ACHE_API_ADDRESS,authHeader);export{api};","map":{"version":3,"names":["ACHE_API_ADDRESS","RestApi","address","authorization","endsWith","substring","length","endpoint","props","fetch","method","createUrl","createProperties","then","response","json","error","startsWith","properties","undefined","headers","meta","document","getElementsByName","authHeader","content","api"],"sources":["C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/src/RestApi.js"],"sourcesContent":["import {ACHE_API_ADDRESS} from './Config';\r\n\r\nclass RestApi {\r\n\r\n  constructor(address, authorization) {\r\n    if(address.endsWith('/')) {\r\n      this.address = address.substring(0, address.length-1);\r\n    } else {\r\n      this.address = address;\r\n    }\r\n    this.authorization = authorization;\r\n  }\r\n\r\n  get(endpoint, props) {\r\n    return this.fetch('GET', endpoint, props);\r\n  }\r\n\r\n  put(endpoint, props) {\r\n    return this.fetch('PUT', endpoint, props);\r\n  }\r\n\r\n  post(endpoint, props) {\r\n    return this.fetch('POST', endpoint, props);\r\n  }\r\n\r\n  fetch(method, endpoint, props) {\r\n    return fetch(this.createUrl(endpoint), this.createProperties(method, props))\r\n              .then(function(response) {\r\n                return response.json();\r\n              }, function(error) {\r\n                return 'FETCH_ERROR';\r\n              });\r\n  }\r\n\r\n  createUrl(endpoint) {\r\n    if(endpoint.startsWith('/')) {\r\n      return this.address + endpoint;\r\n    } else {\r\n      return this.address + '/' + endpoint;\r\n    }\r\n  }\r\n\r\n  createProperties(method, properties) {\r\n    let props = properties || {};\r\n    props.method = method || props.method || 'GET';\r\n    if(this.authorization !== undefined) {\r\n      props.headers = props.headers || {};\r\n      props.headers['Authorization'] = this.authorization;\r\n    }\r\n    return props;\r\n  }\r\n\r\n}\r\n\r\nlet meta = document.getElementsByName(\"authorization\")[0];\r\nlet authHeader;\r\nif(meta !== undefined) {\r\n  authHeader = meta.content;\r\n}\r\n\r\nconst api = new RestApi(ACHE_API_ADDRESS, authHeader);\r\n\r\nexport {api};\r\n"],"mappings":"sSAAA,OAAQA,gBAAR,KAA+B,UAA/B,C,GAEMC,Q,yBAEJ,iBAAYC,OAAZ,CAAqBC,aAArB,CAAoC,+BAClC,GAAGD,OAAO,CAACE,QAAR,CAAiB,GAAjB,CAAH,CAA0B,CACxB,KAAKF,OAAL,CAAeA,OAAO,CAACG,SAAR,CAAkB,CAAlB,CAAqBH,OAAO,CAACI,MAAR,CAAe,CAApC,CAAf,CACD,CAFD,IAEO,CACL,KAAKJ,OAAL,CAAeA,OAAf,CACD,CACD,KAAKC,aAAL,CAAqBA,aAArB,CACD,C,uCAED,aAAII,QAAJ,CAAcC,KAAd,CAAqB,CACnB,MAAO,MAAKC,KAAL,CAAW,KAAX,CAAkBF,QAAlB,CAA4BC,KAA5B,CAAP,CACD,C,mBAED,aAAID,QAAJ,CAAcC,KAAd,CAAqB,CACnB,MAAO,MAAKC,KAAL,CAAW,KAAX,CAAkBF,QAAlB,CAA4BC,KAA5B,CAAP,CACD,C,oBAED,cAAKD,QAAL,CAAeC,KAAf,CAAsB,CACpB,MAAO,MAAKC,KAAL,CAAW,MAAX,CAAmBF,QAAnB,CAA6BC,KAA7B,CAAP,CACD,C,0KAED,SAAME,MAAN,CAAcH,QAAd,CAAwBC,KAAxB,CAA+B,CAC7B,MAAOC,MAAK,CAAC,KAAKE,SAAL,CAAeJ,QAAf,CAAD,CAA2B,KAAKK,gBAAL,CAAsBF,MAAtB,CAA8BF,KAA9B,CAA3B,CAAL,CACIK,IADJ,CACS,SAASC,QAAT,CAAmB,CACvB,MAAOA,SAAQ,CAACC,IAAT,EAAP,CACD,CAHJ,CAGM,SAASC,KAAT,CAAgB,CACjB,MAAO,aAAP,CACD,CALJ,CAAP,CAMD,C,0BAED,mBAAUT,QAAV,CAAoB,CAClB,GAAGA,QAAQ,CAACU,UAAT,CAAoB,GAApB,CAAH,CAA6B,CAC3B,MAAO,MAAKf,OAAL,CAAeK,QAAtB,CACD,CAFD,IAEO,CACL,MAAO,MAAKL,OAAL,CAAe,GAAf,CAAqBK,QAA5B,CACD,CACF,C,gCAED,0BAAiBG,MAAjB,CAAyBQ,UAAzB,CAAqC,CACnC,GAAIV,MAAK,CAAGU,UAAU,EAAI,EAA1B,CACAV,KAAK,CAACE,MAAN,CAAeA,MAAM,EAAIF,KAAK,CAACE,MAAhB,EAA0B,KAAzC,CACA,GAAG,KAAKP,aAAL,GAAuBgB,SAA1B,CAAqC,CACnCX,KAAK,CAACY,OAAN,CAAgBZ,KAAK,CAACY,OAAN,EAAiB,EAAjC,CACAZ,KAAK,CAACY,OAAN,CAAc,eAAd,EAAiC,KAAKjB,aAAtC,CACD,CACD,MAAOK,MAAP,CACD,C,uBAIH,GAAIa,KAAI,CAAGC,QAAQ,CAACC,iBAAT,CAA2B,eAA3B,EAA4C,CAA5C,CAAX,CACA,GAAIC,WAAJ,CACA,GAAGH,IAAI,GAAKF,SAAZ,CAAuB,CACrBK,UAAU,CAAGH,IAAI,CAACI,OAAlB,CACD,CAED,GAAMC,IAAG,CAAG,GAAIzB,QAAJ,CAAYD,gBAAZ,CAA8BwB,UAA9B,CAAZ,CAEA,OAAQE,GAAR"},"metadata":{},"sourceType":"module"}