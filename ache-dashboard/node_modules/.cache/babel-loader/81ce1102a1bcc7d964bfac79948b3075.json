{"ast":null,"code":"import _assertThisInitialized from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _classCallCheck from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/@babel/runtime/helpers/esm/createClass.js\";import React from'react';import{SearchkitManager,SearchkitProvider,SearchBox,Hits,RefinementListFilter,ActionBar,ActionBarRow,HitsStats,ViewSwitcherToggle,SelectedFilters,ResetFilters,Pagination}from\"searchkit\";import{without}from\"lodash\";import URLUtils from'./URLUtils';import{ACHE_API_ADDRESS}from'./Config';import{api}from'./RestApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var searchkitProps;if(api.authorization!==undefined){searchkitProps={httpHeaders:{'Authorization':api.authorization}};}var LabelsManager=/*#__PURE__*/function(){function LabelsManager(crawlerId){_classCallCheck(this,LabelsManager);this.crawlerId=crawlerId;this.listeners=[];this.labelsCache={};api.get('/crawls/'+this.crawlerId+'/labels').then(this.updateLabelsCache.bind(this));}/*\r\n   * Register a callback function that is called any time that labels change.\r\n   * It returns a function that can be used to unregister the listener added by\r\n   * calling it. For example:\r\n   *\r\n   *   let stopListening = lm.addListener(fn);\r\n   *   stopListening(); // calling this will remove fn fuction from listeners\r\n   *\r\n   */_createClass(LabelsManager,[{key:\"addListener\",value:function addListener(fn){var _this=this;this.listeners.push(fn);return function(){_this.listeners=without(_this.listeners,fn);};}},{key:\"notifyListeners\",value:function notifyListeners(changedLabels){this.listeners.forEach(function(fn){fn.apply(changedLabels);});}},{key:\"updateLabelsCache\",value:function updateLabelsCache(response){if(response===\"FETCH_ERROR\"){console.log(\"Failed to fetch labels from server.\");return;}this.labelsCache=response;this.notifyListeners(this.labelsCache);}},{key:\"sendLabels\",value:function sendLabels(labels,callback){var config={headers:{'Content-Type':'application/json'},body:JSON.stringify(labels)};api.put('/crawls/'+this.crawlerId+'/labels',config).then(this.updateLabelsCache.bind(this)).then(callback);}},{key:\"isRelevant\",value:function isRelevant(url){return this.labelsCache[url]===true;}},{key:\"isIrrelevant\",value:function isIrrelevant(url){return this.labelsCache[url]===false;}}]);return LabelsManager;}();var HitItem=/*#__PURE__*/function(_React$Component){_inherits(HitItem,_React$Component);var _super=_createSuper(HitItem);function HitItem(props){var _this2;_classCallCheck(this,HitItem);_this2=_super.call(this,props);_this2.labelsManager=props.labelsManager;// forces re-render every time a label changes\n_this2.stopListeningLabelChanges=_this2.labelsManager.addListener(function(){return _this2.setState({});});return _this2;}_createClass(HitItem,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.stopListeningLabelChanges();}},{key:\"formatDate\",value:function formatDate(timestamp){var dateObject=new Date(timestamp);var YYYY,MM,M,DD,D,hh,h,mm,m,ss,s;YYYY=dateObject.getFullYear();M=dateObject.getMonth()+1;MM=M<10?'0'+M:M;D=dateObject.getDate();DD=D<10?'0'+D:D;h=dateObject.getHours();if(h===0)h=24;if(h>12)h-=12;hh=h<10?'0'+h:h;m=dateObject.getMinutes();mm=m<10?'0'+m:m;s=dateObject.getSeconds();ss=s<10?'0'+s:s;return YYYY+\"-\"+MM+\"-\"+DD+\" \"+hh+\":\"+mm+\":\"+ss;}},{key:\"extractDescription\",value:function extractDescription(input){// try to extraction description from metatag og:description\nvar clean='[No Description Available]';if(input.text!==null){clean=input.text;}if(input.html!==null){var ogdesc=input.html.match(/<meta property=\"og:description\" content=\"(.*?)\"/i);if(ogdesc!==null){clean=ogdesc[1]+' || '+clean;}}clean=clean.replace(/\\\\n/g,\" \");clean=clean.replace(/\\s\\s+/g,' ');var maxlimit=350;return clean.length>maxlimit?clean.substring(0,maxlimit-3)+'...':clean;}},{key:\"extractImageFromSource\",value:function extractImageFromSource(input){if(input.html===null){return'';}var html=input.html;// try to extract og:image or the first <img> tag available in the html\nvar result=html.match(/<meta property=\"og:image\" content=\"(.*?)\"/i);if(result===null){result=html.match(/<img [Ë†><]*src=\"(.*?)\"/i);}if(result===null){// could not find any image\nreturn'';}else{// could find a image\nvar img_url=result[1].replace(/&amp;/g,\"&\");// clean html entities if found\n// try to fix or resolve relative URLs\nif(img_url.indexOf('http://')===0||img_url.indexOf('https://')===0){// complete URL found\nreturn img_url;}if(img_url.indexOf('//')===0){// URL without protocol found\nreturn'http:'+img_url;}// relative URL found\nreturn new URLUtils(img_url,input.url).href;}}},{key:\"labelAs\",value:function labelAs(url,feedback){var domainLabels={};domainLabels[url]=feedback;this.labelsManager.sendLabels(domainLabels);}},{key:\"labelAsRelevant\",value:function labelAsRelevant(result){this.labelAs(result._source.url,true);}},{key:\"labelAsIrrelevant\",value:function labelAsIrrelevant(result){this.labelAs(result._source.url,false);}},{key:\"render\",value:function render(){var _this3=this;var props=this.props;var source=props.result._source;var pageDesc=this.extractDescription(source);var pageTitle=source.title!==null?source.title:'[No Title Available]';var labeldAsRelevant=this.labelsManager.isRelevant(source.url);var labeldAsIrrelevant=this.labelsManager.isIrrelevant(source.url);return/*#__PURE__*/_jsx(\"div\",{className:\"row hit-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hit-title\",children:/*#__PURE__*/_jsx(\"a\",{href:source.url,target:\"_blank\",rel:\"noopener noreferrer\",children:pageTitle})}),/*#__PURE__*/_jsx(\"div\",{className:\"hit-url\",children:/*#__PURE__*/_jsx(\"a\",{href:source.url,target:\"_blank\",rel:\"noopener noreferrer\",children:source.url})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2 hit-image\",children:/*#__PURE__*/_jsx(\"img\",{src:this.extractImageFromSource(source),alt:\"\",referrerPolicy:\"no-referrer\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hit-description\",children:pageDesc}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-inline hit-properties\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Crawl time:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"label label-default\",children:this.formatDate(source.retrieved)})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Classified as:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"label label-default\",children:source.isRelevant})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Actual label:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this3.labelAsRelevant(props.result);},children:/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-thumbs-up\"+(labeldAsRelevant?' relevant':'')})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this3.labelAsIrrelevant(props.result);},children:/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-thumbs-down\"+(labeldAsIrrelevant?' irrelevant':'')})})]})]})]})]})]})});}}]);return HitItem;}(React.Component);var LabelAllButtons=/*#__PURE__*/function(_React$Component2){_inherits(LabelAllButtons,_React$Component2);var _super2=_createSuper(LabelAllButtons);function LabelAllButtons(props){var _this4;_classCallCheck(this,LabelAllButtons);_this4=_super2.call(this,props);_this4.labelsManager=props.labelsManager;_this4.stopListeningResults=_this4.props.searchkit.addResultsListener(_this4.updateResults.bind(_assertThisInitialized(_this4)));return _this4;}_createClass(LabelAllButtons,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.stopListeningResults();}},{key:\"updateResults\",value:function updateResults(results){if(results!==null&&results.hits!==null){this.hits=results.hits.hits;}}},{key:\"labelAllAsRelevant\",value:function labelAllAsRelevant(){this.labelAll(true);}},{key:\"labelAllAsIrrelevant\",value:function labelAllAsIrrelevant(){this.labelAll(false);}},{key:\"labelAll\",value:function labelAll(feedback){var labels={};this.hits.forEach(function(hit){return labels[hit._source.url]=feedback;});this.labelsManager.sendLabels(labels);}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"label-all\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-default\",onClick:function onClick(){return _this5.labelAllAsRelevant();},children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-thumbs-up\"}),\"\\xA0Mark all as Relevant\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-default\",onClick:function onClick(){return _this5.labelAllAsIrrelevant();},children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-thumbs-down\"}),\"\\xA0Mark all as irrelevant\"]})]});}}]);return LabelAllButtons;}(React.Component);var Search=/*#__PURE__*/function(_React$Component3){_inherits(Search,_React$Component3);var _super3=_createSuper(Search);function Search(props){var _this6;_classCallCheck(this,Search);_this6=_super3.call(this,props);_this6.crawlerId=_this6.props.match.params.crawler_id;var elasticsearchAddress=ACHE_API_ADDRESS+'crawls/'+_this6.crawlerId;_this6.searchkit=new SearchkitManager(elasticsearchAddress,searchkitProps);_this6.labelsManager=new LabelsManager(_this6.crawlerId);_this6.hitItemElement=/*#__PURE__*/_jsx(HitItem,{labelsManager:_this6.labelsManager});_this6.state={message:\"Loading...\",searchEnabled:false};api.get('/crawls/'+_this6.crawlerId+'/status').then(_this6.setupSearch.bind(_assertThisInitialized(_this6)));return _this6;}_createClass(Search,[{key:\"setupSearch\",value:function setupSearch(status){if(status==='FETCH_ERROR'){this.setState({message:\"Failed to connect to ACHE API to get crawler status.\",searchEnabled:false});return;}if(!status.searchEnabled){this.setState({message:\"Search is not available for this crawl (it's only available when using ELASTICSEARCH data format).\",searchEnabled:status.searchEnabled});}else{this.setState({message:\"Done.\",searchEnabled:status.searchEnabled});}}},{key:\"render\",value:function render(){var hitItemElement=this.hitItemElement;var enabled=this.state.searchEnabled;var message=this.state.message;var checkboxLabels={\"relevant\":\"Relevant\",\"irrelevant\":\"Irrelevant\"};return/*#__PURE__*/_jsx(\"div\",{children:!enabled?/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger message\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-exclamation-sign\",\"aria-hidden\":\"true\"}),\" \",message]}):/*#__PURE__*/_jsx(SearchkitProvider,{searchkit:this.searchkit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-3\",children:[/*#__PURE__*/_jsx(RefinementListFilter,{id:\"filter_relevance\",title:\"Relevance\",field:\"isRelevant\",size:2,operator:\"OR\",translations:checkboxLabels}),/*#__PURE__*/_jsx(RefinementListFilter,{id:\"filter_domain\",title:\"Domain\",field:\"domain\",size:15,operator:\"OR\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-9\",children:[/*#__PURE__*/_jsx(SearchBox,{searchOnChange:true,searchThrottleTime:1000}),/*#__PURE__*/_jsxs(ActionBar,{children:[/*#__PURE__*/_jsxs(ActionBarRow,{children:[/*#__PURE__*/_jsx(HitsStats,{translations:{\"hitstats.results_found\":\"{hitCount} results found.\"}}),/*#__PURE__*/_jsx(ViewSwitcherToggle,{})]}),/*#__PURE__*/_jsxs(ActionBarRow,{children:[/*#__PURE__*/_jsx(SelectedFilters,{}),/*#__PURE__*/_jsx(ResetFilters,{})]})]}),/*#__PURE__*/_jsx(Hits,{hitsPerPage:10,highlightFields:[\"title\"],sourceFilter:[\"_id\",\"isRelevant\",\"title\",\"url\",\"retrieved\",\"text\",\"html\"],itemComponent:hitItemElement}),/*#__PURE__*/_jsx(LabelAllButtons,{labelsManager:this.labelsManager,searchkit:this.searchkit}),/*#__PURE__*/_jsx(Pagination,{showNumbers:true})]})]})})});}}]);return Search;}(React.Component);export default Search;","map":{"version":3,"names":["React","SearchkitManager","SearchkitProvider","SearchBox","Hits","RefinementListFilter","ActionBar","ActionBarRow","HitsStats","ViewSwitcherToggle","SelectedFilters","ResetFilters","Pagination","without","URLUtils","ACHE_API_ADDRESS","api","searchkitProps","authorization","undefined","httpHeaders","LabelsManager","crawlerId","listeners","labelsCache","get","then","updateLabelsCache","bind","fn","push","changedLabels","forEach","apply","response","console","log","notifyListeners","labels","callback","config","headers","body","JSON","stringify","put","url","HitItem","props","labelsManager","stopListeningLabelChanges","addListener","setState","timestamp","dateObject","Date","YYYY","MM","M","DD","D","hh","h","mm","m","ss","s","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","input","clean","text","html","ogdesc","match","replace","maxlimit","length","substring","result","img_url","indexOf","href","feedback","domainLabels","sendLabels","labelAs","_source","source","pageDesc","extractDescription","pageTitle","title","labeldAsRelevant","isRelevant","labeldAsIrrelevant","isIrrelevant","extractImageFromSource","formatDate","retrieved","labelAsRelevant","labelAsIrrelevant","Component","LabelAllButtons","stopListeningResults","searchkit","addResultsListener","updateResults","results","hits","labelAll","hit","labelAllAsRelevant","labelAllAsIrrelevant","Search","params","crawler_id","elasticsearchAddress","hitItemElement","state","message","searchEnabled","setupSearch","status","enabled","checkboxLabels"],"sources":["C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/src/Search.js"],"sourcesContent":["import React from 'react';\r\nimport {\r\n  SearchkitManager, SearchkitProvider, SearchBox, Hits, RefinementListFilter,\r\n  ActionBar, ActionBarRow, HitsStats, ViewSwitcherToggle, SelectedFilters,\r\n  ResetFilters, Pagination\r\n} from \"searchkit\";\r\nimport {without} from \"lodash\";\r\nimport URLUtils from './URLUtils';\r\n\r\nimport {ACHE_API_ADDRESS} from './Config';\r\nimport {api} from './RestApi';\r\n\r\nvar searchkitProps;\r\nif(api.authorization !== undefined) {\r\n  searchkitProps = {\r\n    httpHeaders: {'Authorization': api.authorization}\r\n  };\r\n}\r\n\r\nclass LabelsManager {\r\n\r\n  constructor(crawlerId) {\r\n    this.crawlerId = crawlerId;\r\n    this.listeners = [];\r\n    this.labelsCache = {};\r\n    api.get('/crawls/' + this.crawlerId + '/labels')\r\n       .then(this.updateLabelsCache.bind(this));\r\n  }\r\n\r\n  /*\r\n   * Register a callback function that is called any time that labels change.\r\n   * It returns a function that can be used to unregister the listener added by\r\n   * calling it. For example:\r\n   *\r\n   *   let stopListening = lm.addListener(fn);\r\n   *   stopListening(); // calling this will remove fn fuction from listeners\r\n   *\r\n   */\r\n  addListener(fn) {\r\n    this.listeners.push(fn);\r\n    return () => {\r\n      this.listeners = without(this.listeners, fn);\r\n    }\r\n  }\r\n\r\n  notifyListeners(changedLabels){\r\n    this.listeners.forEach((fn) => {\r\n     fn.apply(changedLabels)\r\n    });\r\n  }\r\n\r\n  updateLabelsCache(response) {\r\n      if(response === \"FETCH_ERROR\") {\r\n        console.log(\"Failed to fetch labels from server.\");\r\n        return;\r\n      }\r\n      this.labelsCache = response;\r\n      this.notifyListeners(this.labelsCache);\r\n  }\r\n\r\n  sendLabels(labels, callback) {\r\n    let config = {\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify(labels)\r\n    };\r\n    api.put('/crawls/' + this.crawlerId + '/labels', config)\r\n       .then(this.updateLabelsCache.bind(this))\r\n       .then(callback);\r\n  }\r\n\r\n  isRelevant(url) {\r\n    return this.labelsCache[url] === true;\r\n  }\r\n\r\n  isIrrelevant(url) {\r\n    return this.labelsCache[url] === false;\r\n  }\r\n\r\n}\r\n\r\nclass HitItem extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.labelsManager = props.labelsManager;\r\n    // forces re-render every time a label changes\r\n    this.stopListeningLabelChanges = this.labelsManager.addListener(()=> this.setState({}));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.stopListeningLabelChanges();\r\n  }\r\n\r\n  formatDate(timestamp) {\r\n    var dateObject = new Date(timestamp);\r\n    var YYYY,MM,M,DD,D,hh,h,mm,m,ss,s;\r\n    YYYY = dateObject.getFullYear();\r\n    M = dateObject.getMonth()+1\r\n    MM = M < 10 ? ('0'+M) : M;\r\n    D = dateObject.getDate()\r\n    DD = D < 10 ? ('0'+D) : D;\r\n    h = dateObject.getHours();\r\n    if (h===0) h=24;\r\n    if (h>12) h-=12;\r\n    hh = h<10?('0'+h):h;\r\n    m = dateObject.getMinutes();\r\n    mm = m < 10 ? ('0'+m) : m;\r\n    s = dateObject.getSeconds();\r\n    ss = s < 10 ? ('0'+s) : s;\r\n    return YYYY+\"-\"+MM+\"-\"+DD+\" \"+hh+\":\"+mm+\":\"+ss;\r\n  }\r\n\r\n  extractDescription(input) {\r\n    // try to extraction description from metatag og:description\r\n    var clean = '[No Description Available]';\r\n    if(input.text !== null) {\r\n      clean = input.text;\r\n    }\r\n    if(input.html !== null) {\r\n      var ogdesc = input.html.match(/<meta property=\"og:description\" content=\"(.*?)\"/i);\r\n      if(ogdesc !== null) {\r\n        clean = ogdesc[1] + ' || ' + clean;\r\n      }\r\n    }\r\n    clean = clean.replace(/\\\\n/g, \" \");\r\n    clean = clean.replace(/\\s\\s+/g, ' ' );\r\n    let maxlimit = 350;\r\n    return (clean.length > maxlimit) ? (clean.substring(0,maxlimit-3) + '...') : clean;\r\n  }\r\n\r\n  extractImageFromSource(input) {\r\n    if(input.html === null) {\r\n      return '';\r\n    }\r\n    var html = input.html;\r\n    // try to extract og:image or the first <img> tag available in the html\r\n    var result = html.match(/<meta property=\"og:image\" content=\"(.*?)\"/i);\r\n    if(result === null) {\r\n      result = html.match(/<img [Ë†><]*src=\"(.*?)\"/i);\r\n    }\r\n\r\n    if(result === null) {\r\n      // could not find any image\r\n      return '';\r\n    } else {\r\n      // could find a image\r\n      var img_url = result[1].replace(/&amp;/g,\"&\"); // clean html entities if found\r\n      // try to fix or resolve relative URLs\r\n      if(img_url.indexOf('http://') === 0 ||\r\n         img_url.indexOf('https://') === 0) { // complete URL found\r\n        return img_url;\r\n      }\r\n      if(img_url.indexOf('//') === 0) { // URL without protocol found\r\n        return 'http:'+img_url;\r\n      }\r\n      // relative URL found\r\n      return new URLUtils(img_url, input.url).href;\r\n    }\r\n  }\r\n\r\n  labelAs(url, feedback) {\r\n    var domainLabels = {};\r\n    domainLabels[url] = feedback;\r\n    this.labelsManager.sendLabels(domainLabels);\r\n  }\r\n\r\n  labelAsRelevant(result) {\r\n    this.labelAs(result._source.url, true);\r\n  }\r\n\r\n  labelAsIrrelevant(result) {\r\n    this.labelAs(result._source.url, false);\r\n  }\r\n\r\n  render() {\r\n    const props = this.props;\r\n    const source = props.result._source;\r\n    const pageDesc = this.extractDescription(source);\r\n    const pageTitle = source.title !== null ? source.title : '[No Title Available]';\r\n    const labeldAsRelevant = this.labelsManager.isRelevant(source.url);\r\n    const labeldAsIrrelevant = this.labelsManager.isIrrelevant(source.url);\r\n\r\n    return (\r\n      <div className=\"row hit-item\">\r\n        <div className=\"col-sm-12\">\r\n          <div className=\"hit-title\">\r\n            <a href={source.url} target=\"_blank\" rel=\"noopener noreferrer\">{pageTitle}</a>\r\n          </div>\r\n          <div className=\"hit-url\">\r\n            <a href={source.url} target=\"_blank\" rel=\"noopener noreferrer\">{source.url}</a>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-2 hit-image\">\r\n              <img src={this.extractImageFromSource(source)} alt=\"\" referrerPolicy=\"no-referrer\" />\r\n            </div>\r\n            <div className=\"col-sm-10\">\r\n              <div className=\"hit-description\">{pageDesc}</div>\r\n              <ul className=\"list-inline hit-properties\">\r\n                <li><b>Crawl time:</b> <span className=\"label label-default\">{this.formatDate(source.retrieved)}</span></li>\r\n                <li><b>Classified as:</b> <span className=\"label label-default\">{source.isRelevant}</span></li>\r\n                <li>\r\n                  <b>Actual label:</b>\r\n                  <button onClick={()=>this.labelAsRelevant(props.result)}>\r\n                    <span className={\"glyphicon glyphicon-thumbs-up\"  + (labeldAsRelevant ? ' relevant' : '')}></span>\r\n                  </button>\r\n                  <button onClick={()=>this.labelAsIrrelevant(props.result)}>\r\n                    <span className={\"glyphicon glyphicon-thumbs-down\"  + (labeldAsIrrelevant ? ' irrelevant' : '')}></span>\r\n                  </button>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nclass LabelAllButtons extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.labelsManager = props.labelsManager;\r\n    this.stopListeningResults = this.props.searchkit.addResultsListener(this.updateResults.bind(this));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.stopListeningResults();\r\n  }\r\n\r\n  updateResults(results) {\r\n    if(results !== null && results.hits !== null) {\r\n      this.hits = results.hits.hits;\r\n    }\r\n  }\r\n\r\n  labelAllAsRelevant() {\r\n    this.labelAll(true);\r\n  }\r\n\r\n  labelAllAsIrrelevant() {\r\n    this.labelAll(false);\r\n  }\r\n\r\n  labelAll(feedback) {\r\n    let labels = {};\r\n    this.hits.forEach(hit => labels[hit._source.url] = feedback);\r\n    this.labelsManager.sendLabels(labels);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"label-all\">\r\n        <button className=\"btn btn-default\" onClick={()=>this.labelAllAsRelevant()}><span className=\"glyphicon glyphicon-thumbs-up\"></span>&nbsp;Mark all as Relevant</button>\r\n        <button className=\"btn btn-default\" onClick={()=>this.labelAllAsIrrelevant()}><span className=\"glyphicon glyphicon-thumbs-down\"></span>&nbsp;Mark all as irrelevant</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nclass Search extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.crawlerId = this.props.match.params.crawler_id;\r\n    const elasticsearchAddress = ACHE_API_ADDRESS + 'crawls/' + this.crawlerId;\r\n    this.searchkit = new SearchkitManager(elasticsearchAddress, searchkitProps);\r\n    this.labelsManager = new LabelsManager(this.crawlerId);\r\n    this.hitItemElement = <HitItem labelsManager={this.labelsManager} />;\r\n    this.state = {message:\"Loading...\", searchEnabled: false};\r\n    api.get('/crawls/' + this.crawlerId + '/status')\r\n       .then(this.setupSearch.bind(this));\r\n  }\r\n\r\n  setupSearch(status) {\r\n    if(status === 'FETCH_ERROR') {\r\n      this.setState({\r\n        message: \"Failed to connect to ACHE API to get crawler status.\",\r\n        searchEnabled: false\r\n      });\r\n      return;\r\n    }\r\n    if(!status.searchEnabled) {\r\n      this.setState({\r\n        message: \"Search is not available for this crawl (it's only available when using ELASTICSEARCH data format).\",\r\n        searchEnabled: status.searchEnabled\r\n      });\r\n    } else {\r\n      this.setState({\r\n        message: \"Done.\",\r\n        searchEnabled: status.searchEnabled\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const hitItemElement = this.hitItemElement;\r\n    const enabled = this.state.searchEnabled;\r\n    const message = this.state.message;\r\n    let checkboxLabels = {\r\n      \"relevant\":\"Relevant\",\r\n      \"irrelevant\": \"Irrelevant\"\r\n    }\r\n    return (\r\n      <div>\r\n        { !enabled ?\r\n          <div className=\"alert alert-danger message\">\r\n            <span className=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span> {message}\r\n          </div>\r\n          :\r\n          <SearchkitProvider searchkit={this.searchkit} >\r\n            <div className=\"row\">\r\n\r\n              <div className=\"col-sm-3\">\r\n                <RefinementListFilter id=\"filter_relevance\" title=\"Relevance\"\r\n                  field=\"isRelevant\" size={2} operator=\"OR\"\r\n                  translations={checkboxLabels} />\r\n                <RefinementListFilter id=\"filter_domain\" title=\"Domain\"\r\n                  field=\"domain\" size={15} operator=\"OR\" />\r\n              </div>\r\n\r\n              <div className=\"col-sm-9\">\r\n                  <SearchBox searchOnChange={true} searchThrottleTime={1000} />\r\n                  <ActionBar>\r\n                    <ActionBarRow>\r\n              \t\t\t\t<HitsStats translations={{\"hitstats.results_found\":\"{hitCount} results found.\"}}/>\r\n                      <ViewSwitcherToggle/>\r\n                    </ActionBarRow>\r\n                    <ActionBarRow>\r\n                      <SelectedFilters/>\r\n                      <ResetFilters/>\r\n                    </ActionBarRow>\r\n                  </ActionBar>\r\n                  <Hits hitsPerPage={10} highlightFields={[\"title\"]}\r\n                    sourceFilter={[\"_id\", \"isRelevant\", \"title\", \"url\", \"retrieved\", \"text\", \"html\"]}\r\n                    itemComponent={hitItemElement} />\r\n                  <LabelAllButtons labelsManager={this.labelsManager} searchkit={this.searchkit} />\r\n                  <Pagination showNumbers={true}/>\r\n              </div>\r\n            </div>\r\n          </SearchkitProvider>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}