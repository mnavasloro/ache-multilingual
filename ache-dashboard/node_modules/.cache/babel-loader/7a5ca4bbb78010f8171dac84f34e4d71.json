{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar AggsContainer_1 = require(\"./AggsContainer\");\n\nvar assign = require('lodash/assign');\n\nvar isEmpty = require('lodash/isEmpty'); // Emulates the maximum value an integer can have in Java\n// See: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#MAX_VALUE\n\n\nexports.DefaultNumberBuckets = Math.pow(2, 31) - 1;\n\nfunction TermsBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    terms: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.TermsBucket = TermsBucket;\n\nfunction RangeBucket(key, field, ranges) {\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    range: {\n      field: field,\n      ranges: ranges\n    }\n  }, childAggs);\n}\n\nexports.RangeBucket = RangeBucket;\n\nfunction ChildrenBucket(key, type) {\n  var childAggs = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    childAggs[_i - 2] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    children: {\n      type: type\n    }\n  }, childAggs);\n}\n\nexports.ChildrenBucket = ChildrenBucket;\n\nfunction FilterBucket(key, filter) {\n  var childAggs = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    childAggs[_i - 2] = arguments[_i];\n  }\n\n  if (isEmpty(filter)) {\n    return AggsContainer_1.AggsContainer(key, {\n      filter: {\n        match_all: {}\n      }\n    }, childAggs);\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    filter: filter\n  }, childAggs);\n}\n\nexports.FilterBucket = FilterBucket;\n\nfunction NestedBucket(key, path) {\n  var childAggs = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    childAggs[_i - 2] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    nested: {\n      path: path\n    }\n  }, childAggs);\n}\n\nexports.NestedBucket = NestedBucket;\n\nfunction SignificantTermsBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    significant_terms: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.SignificantTermsBucket = SignificantTermsBucket;\n\nfunction GeohashBucket(key, field, options) {\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    geohash_grid: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.GeohashBucket = GeohashBucket;\n\nfunction HistogramBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    histogram: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.HistogramBucket = HistogramBucket;\n\nfunction GeoboundsBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    geo_bounds: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.GeoboundsBucket = GeoboundsBucket;\n\nfunction DateHistogramBucket(key, field, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var childAggs = [];\n\n  for (var _i = 3; _i < arguments.length; _i++) {\n    childAggs[_i - 3] = arguments[_i];\n  }\n\n  return AggsContainer_1.AggsContainer(key, {\n    date_histogram: assign({\n      field: field\n    }, options)\n  }, childAggs);\n}\n\nexports.DateHistogramBucket = DateHistogramBucket;","map":{"version":3,"mappings":"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","names":["assign","require","isEmpty","exports","Math","pow","TermsBucket","key","field","options","childAggs","AggsContainer_1","terms","RangeBucket","ranges","range","ChildrenBucket","type","children","FilterBucket","filter","match_all","NestedBucket","path","nested","SignificantTermsBucket","significant_terms","GeohashBucket","geohash_grid","HistogramBucket","histogram","GeoboundsBucket","geo_bounds","DateHistogramBucket","date_histogram"],"sources":["C:\\Users\\mnavas\\CODE\\SmartBIC\\ache-multilingual\\ache-dashboard\\node_modules\\searchkit\\src\\core\\query\\query_dsl\\aggregations\\BucketAggregations.ts"],"sourcesContent":["import { AggsContainer } from './AggsContainer'\nconst assign = require('lodash/assign')\nconst isEmpty = require('lodash/isEmpty')\n\nexport interface TermsBucketOptions {\n  size?: number\n  order?: any\n  include?: Array<string> | string\n  exclude?: Array<string> | string\n  min_doc_count?: number\n}\n\n// Emulates the maximum value an integer can have in Java\n// See: https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#MAX_VALUE\nexport const DefaultNumberBuckets = Math.pow(2, 31) - 1\n\nexport function TermsBucket(key, field, options: TermsBucketOptions = {}, ...childAggs) {\n  return AggsContainer(\n    key,\n    {\n      terms: assign({ field }, options)\n    },\n    childAggs\n  )\n}\n\nexport function RangeBucket(key, field, ranges, ...childAggs) {\n  return AggsContainer(\n    key,\n    {\n      range: {\n        field,\n        ranges\n      }\n    },\n    childAggs\n  )\n}\n\nexport function ChildrenBucket(key, type, ...childAggs) {\n  return AggsContainer(key, { children: { type } }, childAggs)\n}\n\nexport function FilterBucket(key, filter, ...childAggs) {\n  if (isEmpty(filter)) {\n    return AggsContainer(key, { filter: { match_all: {} } }, childAggs)\n  }\n  return AggsContainer(key, { filter }, childAggs)\n}\n\nexport function NestedBucket(key, path, ...childAggs) {\n  return AggsContainer(key, { nested: { path } }, childAggs)\n}\n\nexport function SignificantTermsBucket(key, field, options = {}, ...childAggs) {\n  return AggsContainer(key, { significant_terms: assign({ field }, options) }, childAggs)\n}\n\nexport function GeohashBucket(key, field, options, ...childAggs) {\n  return AggsContainer(key, { geohash_grid: assign({ field }, options) }, childAggs)\n}\n\nexport function HistogramBucket(key, field, options = {}, ...childAggs) {\n  return AggsContainer(key, { histogram: assign({ field }, options) }, childAggs)\n}\n\nexport function GeoboundsBucket(key, field, options = {}, ...childAggs) {\n  return AggsContainer(key, { geo_bounds: assign({ field }, options) }, childAggs)\n}\n\nexport function DateHistogramBucket(key, field, options = {}, ...childAggs) {\n  return AggsContainer(key, { date_histogram: assign({ field }, options) }, childAggs)\n}\n"]},"metadata":{},"sourceType":"script"}