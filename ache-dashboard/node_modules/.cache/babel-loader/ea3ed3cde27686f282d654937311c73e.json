{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ui_1 = require(\"../../../ui\");\n\nvar FacetFilter_1 = require(\"./FacetFilter\");\n\nvar FacetFilterProps_1 = require(\"./FacetFilterProps\");\n\nvar defaults = require('lodash/defaults');\n\nvar concat = require('lodash/concat');\n\nvar isUndefined = require('lodash/isUndefined');\n\nvar allItem = {\n  key: '$all',\n  label: 'All'\n};\n\nvar MenuFilter =\n/** @class */\nfunction (_super) {\n  __extends(MenuFilter, _super);\n\n  function MenuFilter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MenuFilter.prototype.toggleFilter = function (option) {\n    if (option === allItem.key || this.accessor.state.contains(option)) {\n      this.accessor.state = this.accessor.state.clear();\n    } else {\n      this.accessor.state = this.accessor.state.setValue([option]);\n    }\n\n    this.searchkit.performSearch();\n  };\n\n  MenuFilter.prototype.setFilters = function (options) {\n    this.toggleFilter(options[0]);\n  };\n\n  MenuFilter.prototype.getSelectedItems = function () {\n    var selectedValue = this.accessor.state.getValue()[0];\n    return [!isUndefined(selectedValue) ? selectedValue : allItem.key];\n  };\n\n  MenuFilter.prototype.getItems = function () {\n    var all = {\n      key: allItem.key,\n      label: allItem.label,\n      doc_count: this.accessor.getDocCount()\n    };\n    return concat([all], _super.prototype.getItems.call(this));\n  };\n\n  MenuFilter.propTypes = defaults({}, FacetFilterProps_1.FacetFilterPropTypes.propTypes);\n  MenuFilter.defaultProps = defaults({\n    listComponent: ui_1.ItemList,\n    operator: 'OR'\n  }, FacetFilter_1.FacetFilter.defaultProps);\n  return MenuFilter;\n}(FacetFilter_1.FacetFilter);\n\nexports.MenuFilter = MenuFilter;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA;;AACA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAxB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,eAAD,CAAtB;;AACA,IAAME,WAAW,GAAGF,OAAO,CAAC,oBAAD,CAA3B;;AAEA,IAAMG,OAAO,GAAG;EACdC,GAAG,EAAE,MADS;EAEdC,KAAK,EAAE;AAFO,CAAhB;;AAIA;AAAA;AAAA;EAAgCC;;EAAhC;;EAqCC;;EA1BCC,8CAAaC,MAAb,EAAmB;IACjB,IAAIA,MAAM,KAAKL,OAAO,CAACC,GAAnB,IAA0B,KAAKK,QAAL,CAAcC,KAAd,CAAoBC,QAApB,CAA6BH,MAA7B,CAA9B,EAAoE;MAClE,KAAKC,QAAL,CAAcC,KAAd,GAAsB,KAAKD,QAAL,CAAcC,KAAd,CAAoBE,KAApB,EAAtB;IACD,CAFD,MAEO;MACL,KAAKH,QAAL,CAAcC,KAAd,GAAsB,KAAKD,QAAL,CAAcC,KAAd,CAAoBG,QAApB,CAA6B,CAACL,MAAD,CAA7B,CAAtB;IACD;;IACD,KAAKM,SAAL,CAAeC,aAAf;EACD,CAPD;;EASAR,4CAAWS,OAAX,EAAkB;IAChB,KAAKC,YAAL,CAAkBD,OAAO,CAAC,CAAD,CAAzB;EACD,CAFD;;EAIAT;IACE,IAAMW,aAAa,GAAG,KAAKT,QAAL,CAAcC,KAAd,CAAoBS,QAApB,GAA+B,CAA/B,CAAtB;IACA,OAAO,CAAC,CAACjB,WAAW,CAACgB,aAAD,CAAZ,GAA8BA,aAA9B,GAA8Cf,OAAO,CAACC,GAAvD,CAAP;EACD,CAHD;;EAKAG;IACE,IAAMa,GAAG,GAAG;MACVhB,GAAG,EAAED,OAAO,CAACC,GADH;MAEVC,KAAK,EAAEF,OAAO,CAACE,KAFL;MAGVgB,SAAS,EAAE,KAAKZ,QAAL,CAAca,WAAd;IAHD,CAAZ;IAKA,OAAOrB,MAAM,CAAC,CAACmB,GAAD,CAAD,EAAQG,iBAAMC,QAAN,CAAcC,IAAd,CAAc,IAAd,CAAR,CAAb;EACD,CAPD;;EA5BOlB,uBAAYR,QAAQ,CAAC,EAAD,EAAK2B,wCAAqBC,SAA1B,CAApB;EAEApB,0BAAeR,QAAQ,CAC5B;IACE6B,aAAa,EAAEC,aADjB;IAEEC,QAAQ,EAAE;EAFZ,CAD4B,EAK5BC,0BAAYC,YALgB,CAAvB;EAkCT;AAAC,CArCD,CAAgCD,yBAAhC;;AAAaE","names":["defaults","require","concat","isUndefined","allItem","key","label","__extends","MenuFilter","option","accessor","state","contains","clear","setValue","searchkit","performSearch","options","toggleFilter","selectedValue","getValue","all","doc_count","getDocCount","_super","getItems","call","FacetFilterProps_1","propTypes","listComponent","ui_1","operator","FacetFilter_1","defaultProps","exports"],"sources":["C:\\Users\\mnavas\\CODE\\SmartBIC\\ache-multilingual\\ache-dashboard\\node_modules\\searchkit\\src\\components\\search\\filters\\facet-filter\\MenuFilter.tsx"],"sourcesContent":["import { ItemList } from '../../../ui'\nimport { FacetFilter } from './FacetFilter'\n\nimport { FacetFilterPropTypes } from './FacetFilterProps'\nconst defaults = require('lodash/defaults')\nconst concat = require('lodash/concat')\nconst isUndefined = require('lodash/isUndefined')\n\nconst allItem = {\n  key: '$all',\n  label: 'All'\n}\nexport class MenuFilter extends FacetFilter {\n  static propTypes = defaults({}, FacetFilterPropTypes.propTypes)\n\n  static defaultProps = defaults(\n    {\n      listComponent: ItemList,\n      operator: 'OR'\n    },\n    FacetFilter.defaultProps\n  )\n\n  toggleFilter(option) {\n    if (option === allItem.key || this.accessor.state.contains(option)) {\n      this.accessor.state = this.accessor.state.clear()\n    } else {\n      this.accessor.state = this.accessor.state.setValue([option])\n    }\n    this.searchkit.performSearch()\n  }\n\n  setFilters(options) {\n    this.toggleFilter(options[0])\n  }\n\n  getSelectedItems() {\n    const selectedValue = this.accessor.state.getValue()[0]\n    return [!isUndefined(selectedValue) ? selectedValue : allItem.key]\n  }\n\n  getItems() {\n    const all = {\n      key: allItem.key,\n      label: allItem.label,\n      doc_count: this.accessor.getDocCount()\n    }\n    return concat([all], super.getItems())\n  }\n}\n"]},"metadata":{},"sourceType":"script"}