{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode, createPortal } from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nimport classNames from 'classnames';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils';\nimport Popup from './Popup';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];\nvar IS_REACT_16 = !!createPortal;\nvar contextTypes = {\n  rcTrigger: PropTypes.shape({\n    onPopupMouseDown: PropTypes.func\n  })\n};\n\nvar Trigger = function (_React$Component) {\n  _inherits(Trigger, _React$Component);\n\n  function Trigger(props) {\n    _classCallCheck(this, Trigger);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var popupVisible = void 0;\n\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    _this.state = {\n      prevPopupVisible: popupVisible,\n      popupVisible: popupVisible\n    };\n    ALL_HANDLERS.forEach(function (h) {\n      _this['fire' + h] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    return _this;\n  }\n\n  Trigger.prototype.getChildContext = function getChildContext() {\n    return {\n      rcTrigger: {\n        onPopupMouseDown: this.onPopupMouseDown\n      }\n    };\n  };\n\n  Trigger.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  };\n\n  Trigger.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    };\n\n    if (!IS_REACT_16) {\n      this.renderComponent(null, triggerAfterPopupVisibleChange);\n    } // We must listen to `mousedown` or `touchstart`, edge case:\n    // https://github.com/ant-design/ant-design/issues/5804\n    // https://github.com/react-component/calendar/issues/250\n    // https://github.com/react-component/trigger/issues/50\n\n\n    if (state.popupVisible) {\n      var currentDocument = void 0;\n\n      if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      } // always hide on mobile\n\n\n      if (!this.touchOutsideHandler) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n      } // close popup when trigger type contains 'onContextMenu' and document is scrolling.\n\n\n      if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {\n        currentDocument = currentDocument || props.getDocument();\n        this.contextMenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextMenuClose);\n      } // close popup when trigger type contains 'onContextMenu' and window is blur.\n\n\n      if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {\n        this.contextMenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextMenuClose);\n      }\n\n      return;\n    }\n\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n  };\n\n  Trigger.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var popupVisible = _ref.popupVisible;\n    var newState = {};\n\n    if (popupVisible !== undefined && prevState.popupVisible !== popupVisible) {\n      newState.popupVisible = popupVisible;\n      newState.prevPopupVisible = prevState.popupVisible;\n    }\n\n    return newState;\n  };\n\n  Trigger.prototype.getPopupDomNode = function getPopupDomNode() {\n    // for test\n    if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n\n    return null;\n  };\n\n  Trigger.prototype.getPopupAlign = function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n\n    return popupAlign;\n  };\n  /**\n   * @param popupVisible    Show or not the popup element\n   * @param event           SyntheticEvent, used for `pointAlign`\n   */\n\n\n  Trigger.prototype.setPopupVisible = function setPopupVisible(popupVisible, event) {\n    var alignPoint = this.props.alignPoint;\n    var prevPopupVisible = this.state.popupVisible;\n    this.clearDelayTimer();\n\n    if (prevPopupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({\n          popupVisible: popupVisible,\n          prevPopupVisible: prevPopupVisible\n        });\n      }\n\n      this.props.onPopupVisibleChange(popupVisible);\n    } // Always record the point position since mouseEnterDelay will delay the show\n\n\n    if (alignPoint && event) {\n      this.setPoint(event);\n    }\n  };\n\n  Trigger.prototype.delaySetPopupVisible = function delaySetPopupVisible(visible, delayS, event) {\n    var _this2 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n\n    if (delay) {\n      var point = event ? {\n        pageX: event.pageX,\n        pageY: event.pageY\n      } : null;\n      this.delayTimer = setTimeout(function () {\n        _this2.setPopupVisible(visible, point);\n\n        _this2.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible, event);\n    }\n  };\n\n  Trigger.prototype.clearDelayTimer = function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n\n  Trigger.prototype.clearOutsideHandler = function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.contextMenuOutsideHandler1) {\n      this.contextMenuOutsideHandler1.remove();\n      this.contextMenuOutsideHandler1 = null;\n    }\n\n    if (this.contextMenuOutsideHandler2) {\n      this.contextMenuOutsideHandler2.remove();\n      this.contextMenuOutsideHandler2 = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  };\n\n  Trigger.prototype.createTwoChains = function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n\n    return childPros[event] || props[event];\n  };\n\n  Trigger.prototype.isClickToShow = function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isContextMenuToShow = function isContextMenuToShow() {\n    var _props2 = this.props,\n        action = _props2.action,\n        showAction = _props2.showAction;\n    return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;\n  };\n\n  Trigger.prototype.isClickToHide = function isClickToHide() {\n    var _props3 = this.props,\n        action = _props3.action,\n        hideAction = _props3.hideAction;\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isMouseEnterToShow = function isMouseEnterToShow() {\n    var _props4 = this.props,\n        action = _props4.action,\n        showAction = _props4.showAction;\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  };\n\n  Trigger.prototype.isMouseLeaveToHide = function isMouseLeaveToHide() {\n    var _props5 = this.props,\n        action = _props5.action,\n        hideAction = _props5.hideAction;\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  };\n\n  Trigger.prototype.isFocusToShow = function isFocusToShow() {\n    var _props6 = this.props,\n        action = _props6.action,\n        showAction = _props6.showAction;\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  };\n\n  Trigger.prototype.isBlurToHide = function isBlurToHide() {\n    var _props7 = this.props,\n        action = _props7.action,\n        hideAction = _props7.hideAction;\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  };\n\n  Trigger.prototype.forcePopupAlign = function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  };\n\n  Trigger.prototype.fireEvents = function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n\n    if (childCallback) {\n      childCallback(e);\n    }\n\n    var callback = this.props[type];\n\n    if (callback) {\n      callback(e);\n    }\n  };\n\n  Trigger.prototype.close = function close() {\n    this.setPopupVisible(false);\n  };\n\n  Trigger.prototype.render = function render() {\n    var _this3 = this;\n\n    var popupVisible = this.state.popupVisible;\n    var _props8 = this.props,\n        children = _props8.children,\n        forceRender = _props8.forceRender,\n        alignPoint = _props8.alignPoint,\n        className = _props8.className;\n    var child = React.Children.only(children);\n    var newChildProps = {\n      key: 'trigger'\n    };\n\n    if (this.isContextMenuToShow()) {\n      newChildProps.onContextMenu = this.onContextMenu;\n    } else {\n      newChildProps.onContextMenu = this.createTwoChains('onContextMenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n\n      if (alignPoint) {\n        newChildProps.onMouseMove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.className, className);\n\n    if (childrenClassName) {\n      newChildProps.className = childrenClassName;\n    }\n\n    var trigger = React.cloneElement(child, newChildProps);\n\n    if (!IS_REACT_16) {\n      return React.createElement(ContainerRender, {\n        parent: this,\n        visible: popupVisible,\n        autoMount: false,\n        forceRender: forceRender,\n        getComponent: this.getComponent,\n        getContainer: this.getContainer\n      }, function (_ref2) {\n        var renderComponent = _ref2.renderComponent;\n        _this3.renderComponent = renderComponent;\n        return trigger;\n      });\n    }\n\n    var portal = void 0; // prevent unmounting after it's rendered\n\n    if (popupVisible || this._component || forceRender) {\n      portal = React.createElement(Portal, {\n        key: 'portal',\n        getContainer: this.getContainer,\n        didUpdate: this.handlePortalUpdate\n      }, this.getComponent());\n    }\n\n    return [trigger, portal];\n  };\n\n  return Trigger;\n}(React.Component);\n\nTrigger.propTypes = {\n  children: PropTypes.any,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  showAction: PropTypes.any,\n  hideAction: PropTypes.any,\n  getPopupClassNameFromAlign: PropTypes.any,\n  onPopupVisibleChange: PropTypes.func,\n  afterPopupVisibleChange: PropTypes.func,\n  popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  popupStyle: PropTypes.object,\n  prefixCls: PropTypes.string,\n  popupClassName: PropTypes.string,\n  className: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  popupAnimation: PropTypes.any,\n  mouseEnterDelay: PropTypes.number,\n  mouseLeaveDelay: PropTypes.number,\n  zIndex: PropTypes.number,\n  focusDelay: PropTypes.number,\n  blurDelay: PropTypes.number,\n  getPopupContainer: PropTypes.func,\n  getDocument: PropTypes.func,\n  forceRender: PropTypes.bool,\n  destroyPopupOnHide: PropTypes.bool,\n  mask: PropTypes.bool,\n  maskClosable: PropTypes.bool,\n  onPopupAlign: PropTypes.func,\n  popupAlign: PropTypes.object,\n  popupVisible: PropTypes.bool,\n  defaultPopupVisible: PropTypes.bool,\n  maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  maskAnimation: PropTypes.string,\n  stretch: PropTypes.string,\n  alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n\n};\nTrigger.contextTypes = contextTypes;\nTrigger.childContextTypes = contextTypes;\nTrigger.defaultProps = {\n  prefixCls: 'rc-trigger-popup',\n  getPopupClassNameFromAlign: returnEmptyString,\n  getDocument: returnDocument,\n  onPopupVisibleChange: noop,\n  afterPopupVisibleChange: noop,\n  onPopupAlign: noop,\n  popupClassName: '',\n  mouseEnterDelay: 0,\n  mouseLeaveDelay: 0.1,\n  focusDelay: 0,\n  blurDelay: 0.15,\n  popupStyle: {},\n  destroyPopupOnHide: false,\n  popupAlign: {},\n  defaultPopupVisible: false,\n  mask: false,\n  maskClosable: true,\n  action: [],\n  showAction: [],\n  hideAction: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.onMouseEnter = function (e) {\n    var mouseEnterDelay = _this4.props.mouseEnterDelay;\n\n    _this4.fireEvents('onMouseEnter', e);\n\n    _this4.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n  };\n\n  this.onMouseMove = function (e) {\n    _this4.fireEvents('onMouseMove', e);\n\n    _this4.setPoint(e);\n  };\n\n  this.onMouseLeave = function (e) {\n    _this4.fireEvents('onMouseLeave', e);\n\n    _this4.delaySetPopupVisible(false, _this4.props.mouseLeaveDelay);\n  };\n\n  this.onPopupMouseEnter = function () {\n    _this4.clearDelayTimer();\n  };\n\n  this.onPopupMouseLeave = function (e) {\n    // https://github.com/react-component/trigger/pull/13\n    // react bug?\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && _this4._component && _this4._component.getPopupDomNode && contains(_this4._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n\n    _this4.delaySetPopupVisible(false, _this4.props.mouseLeaveDelay);\n  };\n\n  this.onFocus = function (e) {\n    _this4.fireEvents('onFocus', e); // incase focusin and focusout\n\n\n    _this4.clearDelayTimer();\n\n    if (_this4.isFocusToShow()) {\n      _this4.focusTime = Date.now();\n\n      _this4.delaySetPopupVisible(true, _this4.props.focusDelay);\n    }\n  };\n\n  this.onMouseDown = function (e) {\n    _this4.fireEvents('onMouseDown', e);\n\n    _this4.preClickTime = Date.now();\n  };\n\n  this.onTouchStart = function (e) {\n    _this4.fireEvents('onTouchStart', e);\n\n    _this4.preTouchTime = Date.now();\n  };\n\n  this.onBlur = function (e) {\n    _this4.fireEvents('onBlur', e);\n\n    _this4.clearDelayTimer();\n\n    if (_this4.isBlurToHide()) {\n      _this4.delaySetPopupVisible(false, _this4.props.blurDelay);\n    }\n  };\n\n  this.onContextMenu = function (e) {\n    e.preventDefault();\n\n    _this4.fireEvents('onContextMenu', e);\n\n    _this4.setPopupVisible(true, e);\n  };\n\n  this.onContextMenuClose = function () {\n    if (_this4.isContextMenuToShow()) {\n      _this4.close();\n    }\n  };\n\n  this.onClick = function (event) {\n    _this4.fireEvents('onClick', event); // focus will trigger click\n\n\n    if (_this4.focusTime) {\n      var preTime = void 0;\n\n      if (_this4.preClickTime && _this4.preTouchTime) {\n        preTime = Math.min(_this4.preClickTime, _this4.preTouchTime);\n      } else if (_this4.preClickTime) {\n        preTime = _this4.preClickTime;\n      } else if (_this4.preTouchTime) {\n        preTime = _this4.preTouchTime;\n      }\n\n      if (Math.abs(preTime - _this4.focusTime) < 20) {\n        return;\n      }\n\n      _this4.focusTime = 0;\n    }\n\n    _this4.preClickTime = 0;\n    _this4.preTouchTime = 0; // Only prevent default when all the action is click.\n    // https://github.com/ant-design/ant-design/issues/17043\n    // https://github.com/ant-design/ant-design/issues/17291\n\n    if (_this4.isClickToShow() && (_this4.isClickToHide() || _this4.isBlurToHide()) && event && event.preventDefault) {\n      event.preventDefault();\n    }\n\n    var nextVisible = !_this4.state.popupVisible;\n\n    if (_this4.isClickToHide() && !nextVisible || nextVisible && _this4.isClickToShow()) {\n      _this4.setPopupVisible(!_this4.state.popupVisible, event);\n    }\n  };\n\n  this.onPopupMouseDown = function () {\n    var _context$rcTrigger = _this4.context.rcTrigger,\n        rcTrigger = _context$rcTrigger === undefined ? {} : _context$rcTrigger;\n    _this4.hasPopupMouseDown = true;\n    clearTimeout(_this4.mouseDownTimeout);\n    _this4.mouseDownTimeout = setTimeout(function () {\n      _this4.hasPopupMouseDown = false;\n    }, 0);\n\n    if (rcTrigger.onPopupMouseDown) {\n      rcTrigger.onPopupMouseDown.apply(rcTrigger, arguments);\n    }\n  };\n\n  this.onDocumentClick = function (event) {\n    if (_this4.props.mask && !_this4.props.maskClosable) {\n      return;\n    }\n\n    var target = event.target;\n    var root = findDOMNode(_this4);\n\n    if (!contains(root, target) && !_this4.hasPopupMouseDown) {\n      _this4.close();\n    }\n  };\n\n  this.getRootDomNode = function () {\n    return findDOMNode(_this4);\n  };\n\n  this.getPopupClassNameFromAlign = function (align) {\n    var className = [];\n    var _props9 = _this4.props,\n        popupPlacement = _props9.popupPlacement,\n        builtinPlacements = _props9.builtinPlacements,\n        prefixCls = _props9.prefixCls,\n        alignPoint = _props9.alignPoint,\n        getPopupClassNameFromAlign = _props9.getPopupClassNameFromAlign;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n    }\n\n    if (getPopupClassNameFromAlign) {\n      className.push(getPopupClassNameFromAlign(align));\n    }\n\n    return className.join(' ');\n  };\n\n  this.getComponent = function () {\n    var _props10 = _this4.props,\n        prefixCls = _props10.prefixCls,\n        destroyPopupOnHide = _props10.destroyPopupOnHide,\n        popupClassName = _props10.popupClassName,\n        action = _props10.action,\n        onPopupAlign = _props10.onPopupAlign,\n        popupAnimation = _props10.popupAnimation,\n        popupTransitionName = _props10.popupTransitionName,\n        popupStyle = _props10.popupStyle,\n        mask = _props10.mask,\n        maskAnimation = _props10.maskAnimation,\n        maskTransitionName = _props10.maskTransitionName,\n        zIndex = _props10.zIndex,\n        popup = _props10.popup,\n        stretch = _props10.stretch,\n        alignPoint = _props10.alignPoint;\n    var _state = _this4.state,\n        popupVisible = _state.popupVisible,\n        point = _state.point;\n\n    var align = _this4.getPopupAlign();\n\n    var mouseProps = {};\n\n    if (_this4.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = _this4.onPopupMouseEnter;\n    }\n\n    if (_this4.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = _this4.onPopupMouseLeave;\n    }\n\n    mouseProps.onMouseDown = _this4.onPopupMouseDown;\n    mouseProps.onTouchStart = _this4.onPopupMouseDown;\n    return React.createElement(Popup, _extends({\n      prefixCls: prefixCls,\n      destroyPopupOnHide: destroyPopupOnHide,\n      visible: popupVisible,\n      point: alignPoint && point,\n      className: popupClassName,\n      action: action,\n      align: align,\n      onAlign: onPopupAlign,\n      animation: popupAnimation,\n      getClassNameFromAlign: _this4.getPopupClassNameFromAlign\n    }, mouseProps, {\n      stretch: stretch,\n      getRootDomNode: _this4.getRootDomNode,\n      style: popupStyle,\n      mask: mask,\n      zIndex: zIndex,\n      transitionName: popupTransitionName,\n      maskAnimation: maskAnimation,\n      maskTransitionName: maskTransitionName,\n      ref: _this4.savePopup\n    }), typeof popup === 'function' ? popup() : popup);\n  };\n\n  this.getContainer = function () {\n    var props = _this4.props;\n    var popupContainer = document.createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n    // https://github.com/react-component/trigger/issues/41\n\n    popupContainer.style.position = 'absolute';\n    popupContainer.style.top = '0';\n    popupContainer.style.left = '0';\n    popupContainer.style.width = '100%';\n    var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(_this4)) : props.getDocument().body;\n    mountNode.appendChild(popupContainer);\n    return popupContainer;\n  };\n\n  this.setPoint = function (point) {\n    var alignPoint = _this4.props.alignPoint;\n    if (!alignPoint || !point) return;\n\n    _this4.setState({\n      point: {\n        pageX: point.pageX,\n        pageY: point.pageY\n      }\n    });\n  };\n\n  this.handlePortalUpdate = function () {\n    if (_this4.state.prevPopupVisible !== _this4.state.popupVisible) {\n      _this4.props.afterPopupVisibleChange(_this4.state.popupVisible);\n    }\n  };\n\n  this.savePopup = function (node) {\n    _this4._component = node;\n  };\n};\n\npolyfill(Trigger);\nexport default Trigger;","map":{"version":3,"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","React","PropTypes","findDOMNode","createPortal","polyfill","contains","addEventListener","ContainerRender","Portal","classNames","getAlignFromPlacement","getAlignPopupClassName","Popup","noop","returnEmptyString","returnDocument","window","document","ALL_HANDLERS","IS_REACT_16","contextTypes","rcTrigger","shape","onPopupMouseDown","func","Trigger","_React$Component","props","_this","call","_initialiseProps","popupVisible","defaultPopupVisible","state","prevPopupVisible","forEach","h","e","fireEvents","prototype","getChildContext","componentDidMount","componentDidUpdate","_","prevState","triggerAfterPopupVisibleChange","afterPopupVisibleChange","renderComponent","currentDocument","clickOutsideHandler","isClickToHide","isContextMenuToShow","getDocument","onDocumentClick","touchOutsideHandler","contextMenuOutsideHandler1","onContextMenuClose","contextMenuOutsideHandler2","clearOutsideHandler","componentWillUnmount","clearDelayTimer","clearTimeout","mouseDownTimeout","getDerivedStateFromProps","_ref","newState","undefined","getPopupDomNode","_component","getPopupAlign","popupPlacement","popupAlign","builtinPlacements","setPopupVisible","event","alignPoint","setState","onPopupVisibleChange","setPoint","delaySetPopupVisible","visible","delayS","_this2","delay","point","pageX","pageY","delayTimer","setTimeout","remove","createTwoChains","childPros","children","isClickToShow","_props","action","showAction","indexOf","_props2","_props3","hideAction","isMouseEnterToShow","_props4","isMouseLeaveToHide","_props5","isFocusToShow","_props6","isBlurToHide","_props7","forcePopupAlign","alignInstance","forceAlign","type","childCallback","callback","close","render","_this3","_props8","forceRender","className","child","Children","only","newChildProps","key","onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseMove","onMouseLeave","onFocus","onBlur","childrenClassName","trigger","cloneElement","createElement","parent","autoMount","getComponent","getContainer","_ref2","portal","didUpdate","handlePortalUpdate","Component","propTypes","any","oneOfType","string","arrayOf","getPopupClassNameFromAlign","popup","node","isRequired","popupStyle","object","prefixCls","popupClassName","popupTransitionName","popupAnimation","mouseEnterDelay","number","mouseLeaveDelay","zIndex","focusDelay","blurDelay","getPopupContainer","bool","destroyPopupOnHide","mask","maskClosable","onPopupAlign","maskTransitionName","maskAnimation","stretch","childContextTypes","defaultProps","_this4","onPopupMouseEnter","onPopupMouseLeave","relatedTarget","focusTime","Date","now","preClickTime","preTouchTime","preventDefault","preTime","Math","min","abs","nextVisible","_context$rcTrigger","context","hasPopupMouseDown","apply","arguments","target","root","getRootDomNode","align","_props9","push","join","_props10","_state","mouseProps","onAlign","animation","getClassNameFromAlign","style","transitionName","ref","savePopup","popupContainer","position","top","left","width","mountNode","body","appendChild"],"sources":["C:/Users/mnavas/CODE/SmartBIC/ache-multilingual/ache-dashboard/node_modules/rc-trigger/es/index.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode, createPortal } from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nimport classNames from 'classnames';\n\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils';\nimport Popup from './Popup';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];\n\nvar IS_REACT_16 = !!createPortal;\n\nvar contextTypes = {\n  rcTrigger: PropTypes.shape({\n    onPopupMouseDown: PropTypes.func\n  })\n};\n\nvar Trigger = function (_React$Component) {\n  _inherits(Trigger, _React$Component);\n\n  function Trigger(props) {\n    _classCallCheck(this, Trigger);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var popupVisible = void 0;\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    _this.state = {\n      prevPopupVisible: popupVisible,\n      popupVisible: popupVisible\n    };\n\n    ALL_HANDLERS.forEach(function (h) {\n      _this['fire' + h] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    return _this;\n  }\n\n  Trigger.prototype.getChildContext = function getChildContext() {\n    return {\n      rcTrigger: {\n        onPopupMouseDown: this.onPopupMouseDown\n      }\n    };\n  };\n\n  Trigger.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  };\n\n  Trigger.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    };\n    if (!IS_REACT_16) {\n      this.renderComponent(null, triggerAfterPopupVisibleChange);\n    }\n\n    // We must listen to `mousedown` or `touchstart`, edge case:\n    // https://github.com/ant-design/ant-design/issues/5804\n    // https://github.com/react-component/calendar/issues/250\n    // https://github.com/react-component/trigger/issues/50\n    if (state.popupVisible) {\n      var currentDocument = void 0;\n      if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      }\n      // always hide on mobile\n      if (!this.touchOutsideHandler) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n      }\n      // close popup when trigger type contains 'onContextMenu' and document is scrolling.\n      if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {\n        currentDocument = currentDocument || props.getDocument();\n        this.contextMenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextMenuClose);\n      }\n      // close popup when trigger type contains 'onContextMenu' and window is blur.\n      if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {\n        this.contextMenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextMenuClose);\n      }\n      return;\n    }\n\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n  };\n\n  Trigger.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var popupVisible = _ref.popupVisible;\n\n    var newState = {};\n\n    if (popupVisible !== undefined && prevState.popupVisible !== popupVisible) {\n      newState.popupVisible = popupVisible;\n      newState.prevPopupVisible = prevState.popupVisible;\n    }\n\n    return newState;\n  };\n\n  Trigger.prototype.getPopupDomNode = function getPopupDomNode() {\n    // for test\n    if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n    return null;\n  };\n\n  Trigger.prototype.getPopupAlign = function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n    return popupAlign;\n  };\n\n  /**\n   * @param popupVisible    Show or not the popup element\n   * @param event           SyntheticEvent, used for `pointAlign`\n   */\n  Trigger.prototype.setPopupVisible = function setPopupVisible(popupVisible, event) {\n    var alignPoint = this.props.alignPoint;\n    var prevPopupVisible = this.state.popupVisible;\n\n\n    this.clearDelayTimer();\n\n    if (prevPopupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({ popupVisible: popupVisible, prevPopupVisible: prevPopupVisible });\n      }\n      this.props.onPopupVisibleChange(popupVisible);\n    }\n\n    // Always record the point position since mouseEnterDelay will delay the show\n    if (alignPoint && event) {\n      this.setPoint(event);\n    }\n  };\n\n  Trigger.prototype.delaySetPopupVisible = function delaySetPopupVisible(visible, delayS, event) {\n    var _this2 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n    if (delay) {\n      var point = event ? { pageX: event.pageX, pageY: event.pageY } : null;\n      this.delayTimer = setTimeout(function () {\n        _this2.setPopupVisible(visible, point);\n        _this2.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible, event);\n    }\n  };\n\n  Trigger.prototype.clearDelayTimer = function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n\n  Trigger.prototype.clearOutsideHandler = function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.contextMenuOutsideHandler1) {\n      this.contextMenuOutsideHandler1.remove();\n      this.contextMenuOutsideHandler1 = null;\n    }\n\n    if (this.contextMenuOutsideHandler2) {\n      this.contextMenuOutsideHandler2.remove();\n      this.contextMenuOutsideHandler2 = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  };\n\n  Trigger.prototype.createTwoChains = function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n    return childPros[event] || props[event];\n  };\n\n  Trigger.prototype.isClickToShow = function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isContextMenuToShow = function isContextMenuToShow() {\n    var _props2 = this.props,\n        action = _props2.action,\n        showAction = _props2.showAction;\n\n    return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;\n  };\n\n  Trigger.prototype.isClickToHide = function isClickToHide() {\n    var _props3 = this.props,\n        action = _props3.action,\n        hideAction = _props3.hideAction;\n\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isMouseEnterToShow = function isMouseEnterToShow() {\n    var _props4 = this.props,\n        action = _props4.action,\n        showAction = _props4.showAction;\n\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  };\n\n  Trigger.prototype.isMouseLeaveToHide = function isMouseLeaveToHide() {\n    var _props5 = this.props,\n        action = _props5.action,\n        hideAction = _props5.hideAction;\n\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  };\n\n  Trigger.prototype.isFocusToShow = function isFocusToShow() {\n    var _props6 = this.props,\n        action = _props6.action,\n        showAction = _props6.showAction;\n\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  };\n\n  Trigger.prototype.isBlurToHide = function isBlurToHide() {\n    var _props7 = this.props,\n        action = _props7.action,\n        hideAction = _props7.hideAction;\n\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  };\n\n  Trigger.prototype.forcePopupAlign = function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  };\n\n  Trigger.prototype.fireEvents = function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n    if (childCallback) {\n      childCallback(e);\n    }\n    var callback = this.props[type];\n    if (callback) {\n      callback(e);\n    }\n  };\n\n  Trigger.prototype.close = function close() {\n    this.setPopupVisible(false);\n  };\n\n  Trigger.prototype.render = function render() {\n    var _this3 = this;\n\n    var popupVisible = this.state.popupVisible;\n    var _props8 = this.props,\n        children = _props8.children,\n        forceRender = _props8.forceRender,\n        alignPoint = _props8.alignPoint,\n        className = _props8.className;\n\n    var child = React.Children.only(children);\n    var newChildProps = { key: 'trigger' };\n\n    if (this.isContextMenuToShow()) {\n      newChildProps.onContextMenu = this.onContextMenu;\n    } else {\n      newChildProps.onContextMenu = this.createTwoChains('onContextMenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n      if (alignPoint) {\n        newChildProps.onMouseMove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.className, className);\n    if (childrenClassName) {\n      newChildProps.className = childrenClassName;\n    }\n    var trigger = React.cloneElement(child, newChildProps);\n\n    if (!IS_REACT_16) {\n      return React.createElement(\n        ContainerRender,\n        {\n          parent: this,\n          visible: popupVisible,\n          autoMount: false,\n          forceRender: forceRender,\n          getComponent: this.getComponent,\n          getContainer: this.getContainer\n        },\n        function (_ref2) {\n          var renderComponent = _ref2.renderComponent;\n\n          _this3.renderComponent = renderComponent;\n          return trigger;\n        }\n      );\n    }\n\n    var portal = void 0;\n    // prevent unmounting after it's rendered\n    if (popupVisible || this._component || forceRender) {\n      portal = React.createElement(\n        Portal,\n        { key: 'portal', getContainer: this.getContainer, didUpdate: this.handlePortalUpdate },\n        this.getComponent()\n      );\n    }\n\n    return [trigger, portal];\n  };\n\n  return Trigger;\n}(React.Component);\n\nTrigger.propTypes = {\n  children: PropTypes.any,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  showAction: PropTypes.any,\n  hideAction: PropTypes.any,\n  getPopupClassNameFromAlign: PropTypes.any,\n  onPopupVisibleChange: PropTypes.func,\n  afterPopupVisibleChange: PropTypes.func,\n  popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  popupStyle: PropTypes.object,\n  prefixCls: PropTypes.string,\n  popupClassName: PropTypes.string,\n  className: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  popupAnimation: PropTypes.any,\n  mouseEnterDelay: PropTypes.number,\n  mouseLeaveDelay: PropTypes.number,\n  zIndex: PropTypes.number,\n  focusDelay: PropTypes.number,\n  blurDelay: PropTypes.number,\n  getPopupContainer: PropTypes.func,\n  getDocument: PropTypes.func,\n  forceRender: PropTypes.bool,\n  destroyPopupOnHide: PropTypes.bool,\n  mask: PropTypes.bool,\n  maskClosable: PropTypes.bool,\n  onPopupAlign: PropTypes.func,\n  popupAlign: PropTypes.object,\n  popupVisible: PropTypes.bool,\n  defaultPopupVisible: PropTypes.bool,\n  maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  maskAnimation: PropTypes.string,\n  stretch: PropTypes.string,\n  alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n};\nTrigger.contextTypes = contextTypes;\nTrigger.childContextTypes = contextTypes;\nTrigger.defaultProps = {\n  prefixCls: 'rc-trigger-popup',\n  getPopupClassNameFromAlign: returnEmptyString,\n  getDocument: returnDocument,\n  onPopupVisibleChange: noop,\n  afterPopupVisibleChange: noop,\n  onPopupAlign: noop,\n  popupClassName: '',\n  mouseEnterDelay: 0,\n  mouseLeaveDelay: 0.1,\n  focusDelay: 0,\n  blurDelay: 0.15,\n  popupStyle: {},\n  destroyPopupOnHide: false,\n  popupAlign: {},\n  defaultPopupVisible: false,\n  mask: false,\n  maskClosable: true,\n  action: [],\n  showAction: [],\n  hideAction: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.onMouseEnter = function (e) {\n    var mouseEnterDelay = _this4.props.mouseEnterDelay;\n\n    _this4.fireEvents('onMouseEnter', e);\n    _this4.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n  };\n\n  this.onMouseMove = function (e) {\n    _this4.fireEvents('onMouseMove', e);\n    _this4.setPoint(e);\n  };\n\n  this.onMouseLeave = function (e) {\n    _this4.fireEvents('onMouseLeave', e);\n    _this4.delaySetPopupVisible(false, _this4.props.mouseLeaveDelay);\n  };\n\n  this.onPopupMouseEnter = function () {\n    _this4.clearDelayTimer();\n  };\n\n  this.onPopupMouseLeave = function (e) {\n    // https://github.com/react-component/trigger/pull/13\n    // react bug?\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && _this4._component && _this4._component.getPopupDomNode && contains(_this4._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n    _this4.delaySetPopupVisible(false, _this4.props.mouseLeaveDelay);\n  };\n\n  this.onFocus = function (e) {\n    _this4.fireEvents('onFocus', e);\n    // incase focusin and focusout\n    _this4.clearDelayTimer();\n    if (_this4.isFocusToShow()) {\n      _this4.focusTime = Date.now();\n      _this4.delaySetPopupVisible(true, _this4.props.focusDelay);\n    }\n  };\n\n  this.onMouseDown = function (e) {\n    _this4.fireEvents('onMouseDown', e);\n    _this4.preClickTime = Date.now();\n  };\n\n  this.onTouchStart = function (e) {\n    _this4.fireEvents('onTouchStart', e);\n    _this4.preTouchTime = Date.now();\n  };\n\n  this.onBlur = function (e) {\n    _this4.fireEvents('onBlur', e);\n    _this4.clearDelayTimer();\n    if (_this4.isBlurToHide()) {\n      _this4.delaySetPopupVisible(false, _this4.props.blurDelay);\n    }\n  };\n\n  this.onContextMenu = function (e) {\n    e.preventDefault();\n    _this4.fireEvents('onContextMenu', e);\n    _this4.setPopupVisible(true, e);\n  };\n\n  this.onContextMenuClose = function () {\n    if (_this4.isContextMenuToShow()) {\n      _this4.close();\n    }\n  };\n\n  this.onClick = function (event) {\n    _this4.fireEvents('onClick', event);\n    // focus will trigger click\n    if (_this4.focusTime) {\n      var preTime = void 0;\n      if (_this4.preClickTime && _this4.preTouchTime) {\n        preTime = Math.min(_this4.preClickTime, _this4.preTouchTime);\n      } else if (_this4.preClickTime) {\n        preTime = _this4.preClickTime;\n      } else if (_this4.preTouchTime) {\n        preTime = _this4.preTouchTime;\n      }\n      if (Math.abs(preTime - _this4.focusTime) < 20) {\n        return;\n      }\n      _this4.focusTime = 0;\n    }\n    _this4.preClickTime = 0;\n    _this4.preTouchTime = 0;\n\n    // Only prevent default when all the action is click.\n    // https://github.com/ant-design/ant-design/issues/17043\n    // https://github.com/ant-design/ant-design/issues/17291\n    if (_this4.isClickToShow() && (_this4.isClickToHide() || _this4.isBlurToHide()) && event && event.preventDefault) {\n      event.preventDefault();\n    }\n    var nextVisible = !_this4.state.popupVisible;\n    if (_this4.isClickToHide() && !nextVisible || nextVisible && _this4.isClickToShow()) {\n      _this4.setPopupVisible(!_this4.state.popupVisible, event);\n    }\n  };\n\n  this.onPopupMouseDown = function () {\n    var _context$rcTrigger = _this4.context.rcTrigger,\n        rcTrigger = _context$rcTrigger === undefined ? {} : _context$rcTrigger;\n\n    _this4.hasPopupMouseDown = true;\n\n    clearTimeout(_this4.mouseDownTimeout);\n    _this4.mouseDownTimeout = setTimeout(function () {\n      _this4.hasPopupMouseDown = false;\n    }, 0);\n\n    if (rcTrigger.onPopupMouseDown) {\n      rcTrigger.onPopupMouseDown.apply(rcTrigger, arguments);\n    }\n  };\n\n  this.onDocumentClick = function (event) {\n    if (_this4.props.mask && !_this4.props.maskClosable) {\n      return;\n    }\n\n    var target = event.target;\n    var root = findDOMNode(_this4);\n    if (!contains(root, target) && !_this4.hasPopupMouseDown) {\n      _this4.close();\n    }\n  };\n\n  this.getRootDomNode = function () {\n    return findDOMNode(_this4);\n  };\n\n  this.getPopupClassNameFromAlign = function (align) {\n    var className = [];\n    var _props9 = _this4.props,\n        popupPlacement = _props9.popupPlacement,\n        builtinPlacements = _props9.builtinPlacements,\n        prefixCls = _props9.prefixCls,\n        alignPoint = _props9.alignPoint,\n        getPopupClassNameFromAlign = _props9.getPopupClassNameFromAlign;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n    }\n    if (getPopupClassNameFromAlign) {\n      className.push(getPopupClassNameFromAlign(align));\n    }\n    return className.join(' ');\n  };\n\n  this.getComponent = function () {\n    var _props10 = _this4.props,\n        prefixCls = _props10.prefixCls,\n        destroyPopupOnHide = _props10.destroyPopupOnHide,\n        popupClassName = _props10.popupClassName,\n        action = _props10.action,\n        onPopupAlign = _props10.onPopupAlign,\n        popupAnimation = _props10.popupAnimation,\n        popupTransitionName = _props10.popupTransitionName,\n        popupStyle = _props10.popupStyle,\n        mask = _props10.mask,\n        maskAnimation = _props10.maskAnimation,\n        maskTransitionName = _props10.maskTransitionName,\n        zIndex = _props10.zIndex,\n        popup = _props10.popup,\n        stretch = _props10.stretch,\n        alignPoint = _props10.alignPoint;\n    var _state = _this4.state,\n        popupVisible = _state.popupVisible,\n        point = _state.point;\n\n\n    var align = _this4.getPopupAlign();\n\n    var mouseProps = {};\n    if (_this4.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = _this4.onPopupMouseEnter;\n    }\n    if (_this4.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = _this4.onPopupMouseLeave;\n    }\n\n    mouseProps.onMouseDown = _this4.onPopupMouseDown;\n    mouseProps.onTouchStart = _this4.onPopupMouseDown;\n\n    return React.createElement(\n      Popup,\n      _extends({\n        prefixCls: prefixCls,\n        destroyPopupOnHide: destroyPopupOnHide,\n        visible: popupVisible,\n        point: alignPoint && point,\n        className: popupClassName,\n        action: action,\n        align: align,\n        onAlign: onPopupAlign,\n        animation: popupAnimation,\n        getClassNameFromAlign: _this4.getPopupClassNameFromAlign\n      }, mouseProps, {\n        stretch: stretch,\n        getRootDomNode: _this4.getRootDomNode,\n        style: popupStyle,\n        mask: mask,\n        zIndex: zIndex,\n        transitionName: popupTransitionName,\n        maskAnimation: maskAnimation,\n        maskTransitionName: maskTransitionName,\n        ref: _this4.savePopup\n      }),\n      typeof popup === 'function' ? popup() : popup\n    );\n  };\n\n  this.getContainer = function () {\n    var props = _this4.props;\n\n    var popupContainer = document.createElement('div');\n    // Make sure default popup container will never cause scrollbar appearing\n    // https://github.com/react-component/trigger/issues/41\n    popupContainer.style.position = 'absolute';\n    popupContainer.style.top = '0';\n    popupContainer.style.left = '0';\n    popupContainer.style.width = '100%';\n    var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(_this4)) : props.getDocument().body;\n    mountNode.appendChild(popupContainer);\n    return popupContainer;\n  };\n\n  this.setPoint = function (point) {\n    var alignPoint = _this4.props.alignPoint;\n\n    if (!alignPoint || !point) return;\n\n    _this4.setState({\n      point: {\n        pageX: point.pageX,\n        pageY: point.pageY\n      }\n    });\n  };\n\n  this.handlePortalUpdate = function () {\n    if (_this4.state.prevPopupVisible !== _this4.state.popupVisible) {\n      _this4.props.afterPopupVisibleChange(_this4.state.popupVisible);\n    }\n  };\n\n  this.savePopup = function (node) {\n    _this4._component = node;\n  };\n};\n\npolyfill(Trigger);\n\nexport default Trigger;"],"mappings":"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"},"metadata":{},"sourceType":"module"}